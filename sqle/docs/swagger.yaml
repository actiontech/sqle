basePath: /sqle
definitions:
  controller.BaseRes:
    properties:
      code:
        example: 0
        type: integer
      message:
        example: ok
        type: string
    type: object
  model.AuditResultInfo:
    properties:
      errorInfo:
        type: string
      message:
        type: string
    type: object
  model.I18nAuditResultInfo:
    additionalProperties:
      $ref: '#/definitions/model.AuditResultInfo'
    type: object
  model.RuleCategoryStatistic:
    properties:
      category:
        enum:
        - audit_accuracy
        - audit_purpose
        - operand
        - sql
        type: string
      count:
        type: integer
      tag:
        type: string
    type: object
  v1.AbnormalAuditPlanInstance:
    properties:
      abnormal_status_code:
        type: integer
      instance_audit_plan_id:
        type: integer
      instance_name:
        example: MySQL
        type: string
      token_exp:
        example: 1747129752
        type: integer
    type: object
  v1.AffectRows:
    properties:
      count:
        type: integer
      err_message:
        type: string
    type: object
  v1.AssociateWorkflows:
    properties:
      desc:
        type: string
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - canceled
        - exec_failed
        - executing
        - finished
        type: string
      workflow_id:
        type: string
      workflow_name:
        type: string
    type: object
  v1.AsyncRewriteTask:
    properties:
      end_time:
        description: 结束时间
        type: string
      error_message:
        description: 错误信息
        type: string
      result:
        $ref: '#/definitions/v1.RewriteSQLData'
        description: 重写结果
        type: object
      sql_number:
        description: SQL编号
        type: string
      start_time:
        description: 开始时间
        type: string
      status:
        description: 任务状态
        enum:
        - pending
        - running
        - completed
        - failed
        type: string
      task_id:
        description: 任务ID
        type: string
    type: object
  v1.AsyncRewriteTaskStatusRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AsyncRewriteTask'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.AuditFileResp:
    properties:
      file_name:
        type: string
    type: object
  v1.AuditPlan:
    properties:
      audit_plan_params:
        items:
          $ref: '#/definitions/v1.AuditPlanParamReqV1'
        type: array
      audit_plan_type:
        example: slow log
        type: string
      high_priority_conditions:
        items:
          $ref: '#/definitions/v1.HighPriorityConditionReq'
        type: array
      need_mark_high_priority_sql:
        type: boolean
      rule_template_name:
        example: default_MySQL
        type: string
    type: object
  v1.AuditPlanCount:
    properties:
      audit_plan_count:
        type: integer
      audit_plan_desc:
        type: string
      audit_plan_type:
        type: string
    type: object
  v1.AuditPlanMetaV1:
    properties:
      audit_plan_params:
        items:
          $ref: '#/definitions/v1.AuditPlanParamResV1'
        type: array
      audit_plan_type:
        type: string
      audit_plan_type_desc:
        type: string
      high_priority_conditions:
        items:
          $ref: '#/definitions/v1.HighPriorityConditionResV1'
        type: array
      instance_type:
        type: string
    type: object
  v1.AuditPlanParamReqV1:
    properties:
      key:
        type: string
      value:
        type: string
    type: object
  v1.AuditPlanParamResV1:
    properties:
      desc:
        type: string
      enums_value:
        items:
          $ref: '#/definitions/v1.EnumsValueResV1'
        type: array
      key:
        type: string
      type:
        enum:
        - string
        - int
        - bool
        - password
        type: string
      value:
        type: string
    type: object
  v1.AuditPlanReportResV1:
    properties:
      audit_level:
        enum:
        - normal
        - notice
        - warn
        - error
        - ""
        type: string
      audit_plan_report_id:
        example: "1"
        type: string
      audit_plan_report_timestamp:
        example: RFC3339
        type: string
      pass_rate:
        type: number
      score:
        type: integer
    type: object
  v1.AuditPlanReportSQLResV1:
    properties:
      audit_plan_report_sql:
        example: select * from t1 where id = 1
        type: string
      audit_plan_report_sql_audit_result:
        example: same format as task audit result
        type: string
      number:
        example: 1
        type: integer
    type: object
  v1.AuditPlanRes:
    properties:
      audit_plan_params:
        items:
          $ref: '#/definitions/v1.AuditPlanParamResV1'
        type: array
      audit_plan_type:
        $ref: '#/definitions/v1.AuditPlanTypeResBase'
        type: object
      high_priority_conditions:
        items:
          $ref: '#/definitions/v1.HighPriorityConditionResV1'
        type: array
      need_mark_high_priority_sql:
        type: boolean
      rule_template_name:
        example: default_MySQL
        type: string
    type: object
  v1.AuditPlanResV1:
    properties:
      audit_plan_cron:
        example: 0 */2 * * *
        type: string
      audit_plan_db_type:
        example: mysql
        type: string
      audit_plan_instance_database:
        example: app1
        type: string
      audit_plan_instance_name:
        example: test_mysql
        type: string
      audit_plan_meta:
        $ref: '#/definitions/v1.AuditPlanMetaV1'
        type: object
      audit_plan_name:
        example: audit_for_java_app1
        type: string
      audit_plan_token:
        example: it's a JWT Token for scanner
        type: string
      rule_template_name:
        example: default_MySQL
        type: string
    type: object
  v1.AuditPlanRuleTemplate:
    properties:
      is_global_rule_template:
        type: boolean
      name:
        type: string
    type: object
  v1.AuditPlanSQLDataResV1:
    properties:
      rows:
        items:
          additionalProperties:
            type: string
          type: object
        type: array
    type: object
  v1.AuditPlanSQLHeadV1:
    properties:
      desc:
        type: string
      field_name:
        type: string
      sortable:
        type: boolean
      type:
        enum:
        - sql
        type: string
    type: object
  v1.AuditPlanSQLMetaResV1:
    properties:
      filter_meta_list:
        items:
          $ref: '#/definitions/v1.FilterMeta'
        type: array
      head:
        items:
          $ref: '#/definitions/v1.AuditPlanSQLHeadV1'
        type: array
    type: object
  v1.AuditPlanSQLReqV1:
    properties:
      audit_plan_sql_counter:
        example: "6"
        type: string
      audit_plan_sql_fingerprint:
        example: select * from t1 where id = ?
        type: string
      audit_plan_sql_last_receive_text:
        example: select * from t1 where id = 1
        type: string
      audit_plan_sql_last_receive_timestamp:
        example: RFC3339
        type: string
      audit_plan_sql_schema:
        example: db1
        type: string
      db_user:
        example: database_user001
        type: string
      endpoint:
        example: 10.186.1.2
        type: string
      first_query_at:
        example: "2023-09-12T02:48:01.317880Z"
        type: string
      query_time_avg:
        example: 3.22
        type: number
      query_time_max:
        example: 5.22
        type: number
    type: object
  v1.AuditPlanSQLResV1:
    properties:
      head:
        items:
          $ref: '#/definitions/v1.AuditPlanSQLHeadV1'
        type: array
      rows:
        items:
          additionalProperties:
            type: string
          type: object
        type: array
    type: object
  v1.AuditPlanTypeResBase:
    properties:
      active_status:
        enum:
        - normal
        - disabled
        type: string
      audit_plan_id:
        type: integer
      desc:
        type: string
      last_collection_status:
        enum:
        - normal
        - abnormal
        type: string
      token:
        type: string
      type:
        type: string
    type: object
  v1.AuditPlanTypesV1:
    properties:
      desc:
        type: string
      instance_type:
        enum:
        - MySQL
        - Oracle
        - TiDB
        - OceanBase For MySQL
        - ""
        type: string
      type:
        type: string
    type: object
  v1.AuditResDataV1:
    properties:
      audit_level:
        enum:
        - normal
        - notice
        - warn
        - error
        - ""
        type: string
      pass_rate:
        type: number
      score:
        type: integer
      sql_results:
        items:
          $ref: '#/definitions/v1.AuditSQLResV1'
        type: array
    type: object
  v1.AuditResult:
    properties:
      error_info:
        type: string
      execution_failed:
        type: boolean
      level:
        example: warn
        type: string
      message:
        example: 避免使用不必要的内置函数md5()
        type: string
      rule_name:
        type: string
    type: object
  v1.AuditSQLResV1:
    properties:
      audit_level:
        type: string
      audit_result:
        type: string
      exec_sql:
        type: string
      number:
        type: integer
    type: object
  v1.AuditTaskGroupRes:
    properties:
      task_group_id:
        type: integer
      tasks:
        items:
          $ref: '#/definitions/v1.AuditTaskResV1'
        type: array
    type: object
  v1.AuditTaskGroupResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditTaskGroupRes'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.AuditTaskResV1:
    properties:
      audit_files:
        items:
          $ref: '#/definitions/v1.AuditFileResp'
        type: array
      audit_level:
        enum:
        - normal
        - notice
        - warn
        - error
        - ""
        type: string
      backup_conflict_with_instance:
        description: 当数据源备份开启，工单备份关闭，则需要提示审核人工单备份策略与数据源备份策略不一致
        type: boolean
      backup_max_rows:
        type: integer
      enable_backup:
        type: boolean
      exec_end_time:
        type: string
      exec_mode:
        type: string
      exec_start_time:
        type: string
      file_order_method:
        type: string
      instance_db_type:
        type: string
      instance_name:
        type: string
      instance_schema:
        example: db1
        type: string
      pass_rate:
        type: number
      score:
        type: integer
      sql_source:
        enum:
        - form_data
        - sql_file
        - mybatis_xml_file
        - audit_plan
        - zip_file
        - git_repository
        type: string
      status:
        enum:
        - initialized
        - audited
        - executing
        - exec_success
        - exec_failed
        - manually_executed
        type: string
      task_id:
        type: integer
    type: object
  v1.AuditTaskSQLContentResV1:
    properties:
      sql:
        example: alter table tb1 drop columns c1
        type: string
    type: object
  v1.AuditTaskSQLResV1:
    properties:
      audit_level:
        type: string
      audit_result:
        type: string
      audit_status:
        type: string
      description:
        type: string
      exec_result:
        type: string
      exec_sql:
        type: string
      exec_status:
        type: string
      number:
        type: integer
      rollback_sqls:
        items:
          type: string
        type: array
    type: object
  v1.AuditTasksGroupResV1:
    properties:
      task_group_id:
        type: integer
    type: object
  v1.AuditWhitelistResV1:
    properties:
      audit_whitelist_id:
        type: integer
      desc:
        type: string
      last_match_time:
        type: string
      match_type:
        type: string
      matched_count:
        type: integer
      value:
        type: string
    type: object
  v1.AuditedSQLCount:
    properties:
      risk_sql_count:
        type: integer
      total_sql_count:
        type: integer
    type: object
  v1.BackupSqlData:
    properties:
      backup_result:
        type: string
      backup_sqls:
        items:
          type: string
        type: array
      backup_status:
        enum:
        - waiting_for_execution
        - executing
        - failed
        - succeed
        type: string
      backup_strategy:
        enum:
        - none
        - manual
        - reverse_sql
        - original_row
        type: string
      description:
        type: string
      exec_order:
        type: integer
      exec_sql_id:
        type: integer
      exec_status:
        type: string
      instance_id:
        type: string
      instance_name:
        type: string
      origin_sql:
        type: string
      origin_task_id:
        type: integer
    type: object
  v1.BackupSqlListRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.BackupSqlData'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.BatchAssociateWorkflowsWithVersionReqV1:
    properties:
      workflow_ids:
        items:
          type: string
        type: array
    type: object
  v1.BatchCancelWorkflowsReqV1:
    properties:
      workflow_names:
        items:
          type: string
        type: array
    type: object
  v1.BatchCheckInstanceConnectionsReqV1:
    properties:
      instances:
        items:
          $ref: '#/definitions/v1.InstanceForCheckConnection'
        type: array
    type: object
  v1.BatchCompleteWorkflowsReqV1:
    properties:
      workflow_names:
        items:
          type: string
        type: array
    type: object
  v1.BatchExecuteWorkflowsReqV1:
    properties:
      workflow_ids:
        items:
          type: string
        type: array
    type: object
  v1.BatchGetInstanceConnectionsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.InstanceConnectionResV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.BatchReleaseWorkflowReqV1:
    properties:
      release_workflows:
        items:
          $ref: '#/definitions/v1.ReleaseWorkflows'
        type: array
    type: object
  v1.BatchUpdateSqlManageReq:
    properties:
      assignees:
        items:
          type: string
        type: array
      priority:
        enum:
        - ""
        - high
        type: string
      remark:
        type: string
      sql_manage_id_list:
        items:
          type: integer
        type: array
      status:
        enum:
        - solved
        - ignored
        - manual_audited
        type: string
    type: object
  v1.BlacklistResV1:
    properties:
      blacklist_id:
        type: integer
      content:
        type: string
      desc:
        type: string
      last_match_time:
        type: string
      matched_count:
        type: integer
      type:
        enum:
        - sql
        - fp_sql
        - ip
        - cidr
        - host
        - instance
        type: string
    type: object
  v1.ChartPoint:
    properties:
      info:
        items:
          additionalProperties:
            type: string
          type: object
        type: array
      x:
        type: string
      "y":
        type: number
    type: object
  v1.CheckLicenseResV1:
    properties:
      code:
        example: 0
        type: integer
      content:
        type: string
      license:
        items:
          $ref: '#/definitions/v1.LicenseItem'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.CloneProjectRuleTemplateReqV1:
    properties:
      desc:
        type: string
      new_rule_template_name:
        type: string
    type: object
  v1.CloneRuleTemplateReqV1:
    properties:
      desc:
        type: string
      new_rule_template_name:
        type: string
    type: object
  v1.CodingConfigurationV1:
    properties:
      coding_url:
        type: string
      is_coding_enabled:
        type: boolean
    type: object
  v1.CodingResp:
    properties:
      code:
        type: string
      message:
        type: string
    type: object
  v1.CompanyNotice:
    properties:
      notice_str:
        type: string
    type: object
  v1.CreatInstanceAuditPlanRes:
    properties:
      instance_audit_plan_id:
        type: string
    type: object
  v1.CreatInstanceAuditPlanResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.CreatInstanceAuditPlanRes'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.CreateAuditPlanReqV1:
    properties:
      audit_plan_cron:
        example: 0 */2 * * *
        type: string
      audit_plan_instance_database:
        example: app1
        type: string
      audit_plan_instance_name:
        example: test_mysql
        type: string
      audit_plan_instance_type:
        example: mysql
        type: string
      audit_plan_name:
        example: audit_plan_for_java_repo_1
        type: string
      audit_plan_params:
        items:
          $ref: '#/definitions/v1.AuditPlanParamReqV1'
        type: array
      audit_plan_type:
        example: slow log
        type: string
      rule_template_name:
        example: default_MySQL
        type: string
    type: object
  v1.CreateAuditTaskReqV1:
    properties:
      backup_max_rows:
        type: integer
      enable_backup:
        type: boolean
      exec_mode:
        enum:
        - sql_file
        - sqls
        type: string
      file_order_method:
        type: string
      instance_name:
        example: inst_1
        type: string
      instance_schema:
        example: db1
        type: string
      sql:
        example: alter table tb1 drop columns c1
        type: string
    type: object
  v1.CreateAuditTasksGroupReqV1:
    properties:
      exec_mode:
        enum:
        - sql_file
        - sqls
        type: string
      file_order_method:
        type: string
      instances:
        items:
          $ref: '#/definitions/v1.InstanceForCreatingTask'
        type: array
    type: object
  v1.CreateAuditTasksGroupResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditTasksGroupResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.CreateAuditWhitelistReqV1:
    properties:
      desc:
        example: used for rapid release
        type: string
      match_type:
        enum:
        - exact_match
        - fp_match
        example: exact_match
        type: string
      value:
        example: create table
        type: string
    type: object
  v1.CreateBlacklistReqV1:
    properties:
      content:
        example: select * from t1
        type: string
      desc:
        example: used for rapid release
        type: string
      type:
        enum:
        - sql
        - fp_sql
        - ip
        - cidr
        - host
        - instance
        example: sql
        type: string
    type: object
  v1.CreateCustomRuleReqV1:
    properties:
      annotation:
        example: this is test rule
        type: string
      db_type:
        example: MySQL
        type: string
      desc:
        example: this is test rule
        type: string
      level:
        enum:
        - normal
        - notice
        - warn
        - error
        example: notice
        type: string
      rule_script:
        type: string
      tags:
        items:
          type: string
        type: array
      type:
        example: DDL规则
        type: string
    type: object
  v1.CreateInstanceAuditPlanReqV1:
    properties:
      audit_plans:
        description: 扫描类型
        items:
          $ref: '#/definitions/v1.AuditPlan'
        type: array
      instance_id:
        type: string
    type: object
  v1.CreatePipelineReqV1:
    properties:
      address:
        description: 关联流水线地址
        type: string
      description:
        description: 流水线描述
        type: string
      name:
        description: 流水线名称
        type: string
      nodes:
        description: 节点信息
        items:
          $ref: '#/definitions/v1.pipelineNodeBase'
        type: array
    type: object
  v1.CreatePipelineResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.createPipelineResData'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.CreateProjectRuleTemplateReqV1:
    properties:
      db_type:
        type: string
      desc:
        type: string
      rule_list:
        items:
          $ref: '#/definitions/v1.RuleReqV1'
        type: array
      rule_template_name:
        type: string
      rule_version:
        type: integer
    type: object
  v1.CreateRollbackWorkflowReq:
    properties:
      desc:
        type: string
      rollback_sql_ids:
        items:
          type: integer
        type: array
      sql_version_id:
        type: integer
      task_ids:
        items:
          type: integer
        type: array
      workflow_subject:
        type: string
    type: object
  v1.CreateRollbackWorkflowRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.CreateRollbackWorkflowResData'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.CreateRollbackWorkflowResData:
    properties:
      workflow_id:
        type: string
    type: object
  v1.CreateRuleTemplateReqV1:
    properties:
      db_type:
        type: string
      desc:
        type: string
      rule_list:
        items:
          $ref: '#/definitions/v1.RuleReqV1'
        type: array
      rule_template_name:
        type: string
      rule_version:
        type: integer
    type: object
  v1.CreateSQLAuditRecordResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SQLAuditRecordResData'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.CreateSqlVersionReqV1:
    properties:
      create_sql_version_stage:
        items:
          $ref: '#/definitions/v1.CreateSqlVersionStage'
        type: array
      desc:
        type: string
      version:
        example: "2.23"
        type: string
    type: object
  v1.CreateSqlVersionRes:
    properties:
      sql_version_id:
        type: integer
    type: object
  v1.CreateSqlVersionResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.CreateSqlVersionRes'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.CreateSqlVersionStage:
    properties:
      create_stages_instance_dep:
        items:
          $ref: '#/definitions/v1.CreateStagesInstanceDep'
        type: array
      name:
        example: 生产
        type: string
      stage_sequence:
        type: integer
    type: object
  v1.CreateStagesInstanceDep:
    properties:
      next_stage_instance_id:
        type: string
      stage_instance_id:
        type: string
    type: object
  v1.CreateWorkflowReqV1:
    properties:
      desc:
        type: string
      task_ids:
        items:
          type: integer
        type: array
      workflow_subject:
        type: string
    type: object
  v1.CustomRuleResV1:
    properties:
      annotation:
        example: this is test rule
        type: string
      categories:
        additionalProperties:
          items:
            type: string
          type: array
        type: object
      db_type:
        example: MySQL
        type: string
      desc:
        example: this is test rule
        type: string
      level:
        enum:
        - normal
        - notice
        - warn
        - error
        example: notice
        type: string
      rule_id:
        type: string
      rule_script:
        type: string
      type:
        example: DDL规则
        type: string
    type: object
  v1.DBPerformanceImproveOverview:
    properties:
      avg_performance_improve:
        type: number
      instance_name:
        type: string
    type: object
  v1.DBTypeAuditPlan:
    properties:
      data:
        items:
          $ref: '#/definitions/v1.AuditPlanCount'
        type: array
      db_type:
        type: string
    type: object
  v1.DBTypeHealth:
    properties:
      db_type:
        type: string
      health_instance_names:
        items:
          type: string
        type: array
      unhealth_instance_names:
        items:
          type: string
        type: array
    type: object
  v1.DashboardResV1:
    properties:
      workflow_statistics:
        $ref: '#/definitions/v1.WorkflowStatisticsResV1'
        type: object
    type: object
  v1.DatabaseComparisonObject:
    properties:
      instance_id:
        type: string
      schema_name:
        type: string
    type: object
  v1.DatabaseComparisonResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SchemaObject'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.DatabaseComparisonStatements:
    properties:
      base_sql:
        $ref: '#/definitions/v1.SQLStatement'
        type: object
      comparison_sql:
        $ref: '#/definitions/v1.SQLStatement'
        type: object
    type: object
  v1.DatabaseComparisonStatementsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.DatabaseComparisonStatements'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.DatabaseDiffModifySQL:
    properties:
      audit_error:
        type: string
      modify_sqls:
        items:
          $ref: '#/definitions/v1.SQLStatementWithAuditResult'
        type: array
      schema_name:
        type: string
    type: object
  v1.DatabaseDiffObject:
    properties:
      inconsistent_num:
        type: integer
      object_type:
        enum:
        - TABLE
        - VIEW
        - PROCEDURE
        - TIGGER
        - EVENT
        - FUNCTION
        type: string
      objects_diff_result:
        items:
          $ref: '#/definitions/v1.ObjectDiffResult'
        type: array
    type: object
  v1.DatabaseDriverLogosV1:
    properties:
      db_type:
        type: string
      logo:
        items:
          type: integer
        type: array
    type: object
  v1.DatabaseDriverOptionsV1:
    properties:
      db_type:
        type: string
      params:
        items:
          $ref: '#/definitions/v1.InstanceAdditionalParamResV1'
        type: array
    type: object
  v1.DatabaseObject:
    properties:
      object_name:
        type: string
      object_type:
        enum:
        - TABLE
        - VIEW
        - PROCEDURE
        - TIGGER
        - EVENT
        - FUNCTION
        type: string
    type: object
  v1.DatabaseSchemaObject:
    properties:
      base_schema_name:
        type: string
      comparison_schema_name:
        type: string
      database_objects:
        items:
          $ref: '#/definitions/v1.DatabaseObject'
        type: array
    type: object
  v1.DepBetweenStageInstance:
    properties:
      next_stage_instance_id:
        type: string
      next_stage_instance_name:
        type: string
      stage_instance_id:
        type: string
      stage_instance_name:
        type: string
    type: object
  v1.DingTalkConfigurationV1:
    properties:
      app_key:
        type: string
      is_enable_ding_talk_notify:
        type: boolean
    type: object
  v1.DirectAuditFileReqV1:
    properties:
      file_contents:
        description: |-
          调用方不应该关心SQL是否被完美的拆分成独立的条目, 拆分SQL由SQLE实现
          每个数组元素是一个文件内容
        example:
        - select * from t1; select * from t2;
        items:
          type: string
        type: array
      instance_name:
        example: instance1
        type: string
      instance_type:
        example: MySQL
        type: string
      project_name:
        example: project1
        type: string
      schema_name:
        example: schema1
        type: string
      sql_type:
        enum:
        - sql
        - mybatis
        - ""
        example: sql
        type: string
    type: object
  v1.DirectAuditReqV1:
    properties:
      instance_name:
        example: instance1
        type: string
      instance_type:
        example: MySQL
        type: string
      project_name:
        example: project1
        type: string
      schema_name:
        example: schema1
        type: string
      sql_content:
        description: 调用方不应该关心SQL是否被完美的拆分成独立的条目, 拆分SQL由SQLE实现
        example: select * from t1; select * from t2;
        type: string
      sql_type:
        enum:
        - sql
        - mybatis
        - ""
        example: sql
        type: string
    type: object
  v1.DirectAuditResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.DirectGetSQLAnalysisResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SqlAnalysisResDataV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.DriversResV1:
    properties:
      driver_name_list:
        items:
          type: string
        type: array
    type: object
  v1.EdgeResponse:
    properties:
      from_id:
        description: 存储Node的ID
        type: string
      is_directed:
        description: 是否有向
        type: boolean
      to_id:
        description: 存储Node的ID
        type: string
      weight:
        description: 权重
        type: integer
    type: object
  v1.EnumsValueResV1:
    properties:
      desc:
        type: string
      value:
        type: string
    type: object
  v1.ExplainClassicResult:
    properties:
      head:
        items:
          $ref: '#/definitions/v1.TableMetaItemHeadResV1'
        type: array
      rows:
        items:
          additionalProperties:
            type: string
          type: object
        type: array
    type: object
  v1.ExplainValidationDetail:
    properties:
      after_cost:
        type: number
      after_plan:
        type: string
      before_cost:
        type: number
      before_plan:
        type: string
      perform_improve_per:
        type: number
    type: object
  v1.FeishuConfigurationV1:
    properties:
      app_id:
        type: string
      is_feishu_notification_enabled:
        type: boolean
    type: object
  v1.FileToSort:
    properties:
      file_id:
        type: integer
      new_index:
        type: integer
    type: object
  v1.Filter:
    properties:
      filter_between_value:
        $ref: '#/definitions/v1.FilterBetweenValue'
        type: object
      filter_compare_value:
        type: string
      filter_name:
        type: string
    type: object
  v1.FilterBetweenValue:
    properties:
      from:
        type: string
      to:
        type: string
    type: object
  v1.FilterMeta:
    properties:
      desc:
        type: string
      filter_input_type:
        enum:
        - int
        - string
        - date_time
        type: string
      filter_name:
        type: string
      filter_op_type:
        enum:
        - equal
        - between
        type: string
      filter_tip_list:
        items:
          $ref: '#/definitions/v1.FilterTip'
        type: array
    type: object
  v1.FilterTip:
    properties:
      desc:
        type: string
      group:
        type: string
      value:
        type: string
    type: object
  v1.FullSyncAuditPlanSQLsReqV1:
    properties:
      audit_plan_sql_list:
        items:
          $ref: '#/definitions/v1.AuditPlanSQLReqV1'
        type: array
    type: object
  v1.GenModifySQLResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.DatabaseDiffModifySQL'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GenModifylSQLReqV1:
    properties:
      base_instance_id:
        type: string
      comparison_instance_id:
        type: string
      database_schema_objects:
        items:
          $ref: '#/definitions/v1.DatabaseSchemaObject'
        type: array
    type: object
  v1.GetAbnormalAuditPlanInstancesResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AbnormalAuditPlanInstance'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlanAnalysisDataResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.GetSQLAnalysisDataResItemV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlanMetasResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AuditPlanMetaV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlanNotifyConfigResDataV1:
    properties:
      enable_email_notify:
        type: boolean
      enable_web_hook_notify:
        type: boolean
      notify_interval:
        type: integer
      notify_level:
        type: string
      web_hook_template:
        type: string
      web_hook_url:
        type: string
    type: object
  v1.GetAuditPlanNotifyConfigResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.GetAuditPlanNotifyConfigResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlanReportResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditPlanReportResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlanReportSQLsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AuditPlanReportSQLResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetAuditPlanReportsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AuditPlanReportResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetAuditPlanResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditPlanResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlanSQLDataReqV1:
    properties:
      filter_list:
        items:
          $ref: '#/definitions/v1.Filter'
        type: array
      is_asc:
        type: boolean
      order_by:
        type: string
      page_index:
        type: integer
      page_size:
        type: integer
    type: object
  v1.GetAuditPlanSQLDataResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditPlanSQLDataResV1'
        type: object
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetAuditPlanSQLExportReqV1:
    properties:
      filter_list:
        items:
          $ref: '#/definitions/v1.Filter'
        type: array
      is_asc:
        type: boolean
      order_by:
        type: string
    type: object
  v1.GetAuditPlanSQLMetaResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditPlanSQLMetaResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlanSQLsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditPlanSQLResV1'
        type: object
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetAuditPlanTypesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AuditPlanTypesV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditPlansResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AuditPlanResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetAuditTaskResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditTaskResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditTaskSQLContentResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditTaskSQLContentResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetAuditTaskSQLsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AuditTaskSQLResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetAuditWhitelistResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AuditWhitelistResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetBlacklistResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.BlacklistResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetCodingConfigurationResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.CodingConfigurationV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetCompanyNoticeResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.CompanyNotice'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetComparisonStatementsReqV1:
    properties:
      database_comparison_object:
        $ref: '#/definitions/v1.GetDatabaseComparisonReqV1'
        type: object
      database_object:
        $ref: '#/definitions/v1.DatabaseObject'
        type: object
    type: object
  v1.GetCustomRuleResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.CustomRuleResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetCustomRulesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.CustomRuleResV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetDBPerformanceImproveOverviewResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.DBPerformanceImproveOverview'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetDashboardResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.DashboardResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetDatabaseComparisonReqV1:
    properties:
      base_db_object:
        $ref: '#/definitions/v1.DatabaseComparisonObject'
        type: object
      comparison_db_object:
        $ref: '#/definitions/v1.DatabaseComparisonObject'
        type: object
    type: object
  v1.GetDatabaseDriverLogosResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.DatabaseDriverLogosV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetDatabaseDriverOptionsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.DatabaseDriverOptionsV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetDepBetweenStageInstanceResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.DepBetweenStageInstance'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetDingTalkConfigurationResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.DingTalkConfigurationV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetDriverRuleVersionTipsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.GetDriverRuleVersionTipsV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetDriverRuleVersionTipsV1:
    properties:
      db_type:
        example: mysql
        type: string
      rule_versions:
        items:
          type: integer
        type: array
    type: object
  v1.GetDriversResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.DriversResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetFeishuAuditConfigurationResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.FeishuConfigurationV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetGlobalSqlManageListResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.GlobalSqlManage'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetGlobalSqlManageStatisticsResp:
    properties:
      code:
        example: 0
        type: integer
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetInstanceAuditPlanDetailResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.InstanceAuditPlanDetailResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetInstanceAuditPlanOverviewResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.InstanceAuditPlanInfo'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetInstanceAuditPlansResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.InstanceAuditPlanResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetInstanceConnectableResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.InstanceConnectableResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetInstanceHealthResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.DBTypeHealth'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetInstanceOverviewStatisticsRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.InstanceOverviewStatistics'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetInstanceSchemaResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.InstanceSchemaResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetInstanceTipsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.InstanceTipResV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetInstancesTypePercentResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.InstancesTypePercentV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetKnowledgeBaseListRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.KnowledgeBase'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetKnowledgeBaseTagListRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.Tag'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetKnowledgeGraphResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.GraphResponse'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetLicenseResV1:
    properties:
      code:
        example: 0
        type: integer
      content:
        type: string
      license:
        items:
          $ref: '#/definitions/v1.LicenseItem'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetLicenseUsageResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.LicenseUsageV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetModuleStatusResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.ModuleStatusRes'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetOperationActionListResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.OperationActionList'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetOperationRecordListResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.OperationRecordList'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetOperationTypeNamesListResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.OperationTypeNameList'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetOperationsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.OperationResV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetOptimizationOverviewResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.OptimizationRecordOverview'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetOptimizationRecordRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.OptimizationDetail'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetOptimizationRecordsRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.OptimizationRecord'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetOptimizationSQLRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.OptimizationSQLDetail'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetOptimizationSQLsRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.OptimizationSQL'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetPipelineDetailResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.pipelineDetailData'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetPipelinesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        description: 流水线列表数据
        items:
          $ref: '#/definitions/v1.pipelineDetail'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        description: 流水线总数
        type: integer
    type: object
  v1.GetProjectRuleTemplateResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.RuleProjectTemplateDetailResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetProjectRuleTemplatesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.ProjectRuleTemplateResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetProjectScoreResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.ProjectScore'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetProjectStatisticsResDataV1:
    properties:
      audit_plan_total:
        type: integer
      instance_total:
        type: integer
      member_total:
        type: integer
      rule_template_total:
        type: integer
      whitelist_total:
        type: integer
      workflow_total:
        type: integer
    type: object
  v1.GetProjectStatisticsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.GetProjectStatisticsResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetReportPushConfigsListResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.ReportPushConfigList'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetRiskAuditPlanResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RiskAuditPlan'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetRoleUserCountResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RoleUserCount'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetRuleCategoryStatisticResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        additionalProperties:
          items:
            $ref: '#/definitions/model.RuleCategoryStatistic'
          type: array
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetRuleKnowledgeResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.RuleKnowledgeResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetRuleTemplateResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.RuleTemplateDetailResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetRuleTemplateTipsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RuleTemplateTipResV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetRuleTemplatesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RuleTemplateResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetRuleTypeByDBTypeResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RuleTypeV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetRulesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RuleResV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetSQLAnalysisDataResItemV1:
    properties:
      sql_explain:
        $ref: '#/definitions/v1.SQLExplain'
        type: object
      table_metas:
        items:
          $ref: '#/definitions/v1.TableMeta'
        type: array
    type: object
  v1.GetSQLAuditRecordResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SQLAuditRecord'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetSQLAuditRecordTagTipsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          type: string
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetSQLAuditRecordsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SQLAuditRecord'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetSqlAverageExecutionTimeResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SqlAverageExecutionTime'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetSqlDEVRecordListResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SqlDEVRecord'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetSqlExecutionFailPercentResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SqlExecutionFailPercent'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetSqlFileOrderMethodResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SqlFileOrderMethodRes'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetSqlManageListResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SqlManage'
        type: array
      message:
        example: ok
        type: string
      sql_manage_bad_num:
        type: integer
      sql_manage_optimized_num:
        type: integer
      sql_manage_total_num:
        type: integer
    type: object
  v1.GetSqlManageRuleTipsResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RuleTips'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetSqlManageSqlAnalysisResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SqlAnalysis'
        description: V1版本不能引用V2版本的结构体,所以只能复制一份
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetSqlVersionDetailResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SqlVersionDetailResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetSqlVersionListResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.SqlVersionResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetSystemModuleRedDotsRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.ModuleRedDots'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetSystemVariablesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SystemVariablesResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetTableMetadataResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.InstanceTableMeta'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetTaskAnalysisDataResItemV1:
    properties:
      sql_explain:
        $ref: '#/definitions/v1.SQLExplain'
        type: object
      table_metas:
        items:
          $ref: '#/definitions/v1.TableMeta'
        type: array
    type: object
  v1.GetTaskAnalysisDataResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.GetTaskAnalysisDataResItemV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetUserTipsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.UserTipResV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetWechatAuditConfigurationResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WechatConfigurationV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowAuditPassPercentResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowAuditPassPercentV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowCountsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowCountsV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowCreatedCountsEachDayResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowCreatedCountsEachDayV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowDurationOfWaitingForAuditResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowStageDuration'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowDurationOfWaitingForExecutionResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowStageDuration'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowPassPercentResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowPassPercentV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowPercentCountedByInstanceTypeResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowPercentCountedByInstanceTypeV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowRejectedPercentGroupByCreatorResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.WorkflowRejectedPercentGroupByCreator'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowRejectedPercentGroupByInstanceResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.WorkflowRejectedPercentGroupByInstance'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowStatisticOfInstancesResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.WorkflowStatisticOfInstance'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowStatusCountResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowStatusCountV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowTasksItemV1:
    properties:
      current_step_assignee_user_name_list:
        items:
          type: string
        type: array
      exec_end_time:
        type: string
      exec_start_time:
        type: string
      execution_user_name:
        type: string
      instance_maintenance_times:
        items:
          $ref: '#/definitions/v1.MaintenanceTimeResV1'
        type: array
      instance_name:
        type: string
      schedule_time:
        type: string
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - exec_scheduled
        - exec_failed
        - exec_succeeded
        - executing
        - manually_executed
        type: string
      task_id:
        type: integer
      task_pass_rate:
        type: number
      task_score:
        type: integer
    type: object
  v1.GetWorkflowTasksResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.GetWorkflowTasksItemV1'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowTemplateResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.WorkflowTemplateDetailResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.GetWorkflowsResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.WorkflowDetailResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GetWorkflowsThatCanBeAssociatedToVersionResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.AssociateWorkflows'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.GlobalSqlManage:
    properties:
      audit_result:
        items:
          $ref: '#/definitions/v1.AuditResult'
        type: array
      first_appear_timestamp:
        type: string
      id:
        type: integer
      instance_id:
        type: string
      instance_name:
        type: string
      problem_descriptions:
        description: 根据来源信息拼接
        items:
          type: string
        type: array
      project_name:
        type: string
      project_priority:
        enum:
        - high
        - medium
        - low
        type: string
      project_uid:
        type: string
      source:
        $ref: '#/definitions/v1.Source'
        type: object
      sql:
        type: string
      status:
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        - sent
        type: string
    type: object
  v1.GlobalWorkflowStatisticsResV1:
    properties:
      code:
        example: 0
        type: integer
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v1.GraphResponse:
    properties:
      edges:
        description: 边集合
        items:
          $ref: '#/definitions/v1.EdgeResponse'
        type: array
      nodes:
        description: 节点集合
        items:
          $ref: '#/definitions/v1.NodeResponse'
        type: array
    type: object
  v1.HighPriorityConditionReq:
    properties:
      key:
        type: string
      operator:
        default: '>'
        enum:
        - '>'
        - =
        - <
        type: string
      value:
        type: string
    type: object
  v1.HighPriorityConditionResV1:
    properties:
      desc:
        type: string
      enums_value:
        items:
          $ref: '#/definitions/v1.EnumsValueResV1'
        type: array
      key:
        type: string
      operator:
        $ref: '#/definitions/v1.OperatorResV1'
        type: object
      type:
        enum:
        - string
        - int
        - bool
        - password
        type: string
      value:
        type: string
    type: object
  v1.InstanceAdditionalParamResV1:
    properties:
      description:
        example: 参数项中文名
        type: string
      name:
        example: param name
        type: string
      type:
        example: int
        type: string
      value:
        example: "0"
        type: string
    type: object
  v1.InstanceAuditPlanDetailResV1:
    properties:
      audit_plans:
        description: 扫描类型
        items:
          $ref: '#/definitions/v1.AuditPlanRes'
        type: array
      business:
        description: This parameter is deprecated
        example: test
        type: string
      environment:
        example: prod
        type: string
      instance_id:
        example: instance_id
        type: string
      instance_name:
        example: test_mysql
        type: string
      instance_type:
        example: mysql
        type: string
    type: object
  v1.InstanceAuditPlanInfo:
    properties:
      active_status:
        enum:
        - normal
        - disabled
        type: string
      audit_plan_db_type:
        example: mysql
        type: string
      audit_plan_instance_name:
        example: test_mysql
        type: string
      audit_plan_rule_template:
        $ref: '#/definitions/v1.AuditPlanRuleTemplate'
        type: object
      audit_plan_type:
        $ref: '#/definitions/v1.AuditPlanTypeResBase'
        type: object
      exec_cmd:
        example: ./scanner xxx
        type: string
      id:
        type: integer
      last_collection_status:
        enum:
        - normal
        - abnormal
        type: string
      last_collection_time:
        type: string
      token_exp:
        example: 1747129752
        type: integer
      total_sql_nums:
        type: integer
      unsolved_sql_nums:
        type: integer
    type: object
  v1.InstanceAuditPlanResV1:
    properties:
      active_status:
        enum:
        - normal
        - disabled
        type: string
      audit_plan_types:
        items:
          $ref: '#/definitions/v1.AuditPlanTypeResBase'
        type: array
      business:
        description: This parameter is deprecated
        type: string
      create_time:
        description: TODO 采集状态
        type: string
      creator:
        type: string
      environment:
        type: string
      instance_audit_plan_id:
        type: integer
      instance_id:
        type: string
      instance_name:
        type: string
      instance_type:
        type: string
    type: object
  v1.InstanceConnectableResV1:
    properties:
      connect_error_message:
        type: string
      is_instance_connectable:
        type: boolean
    type: object
  v1.InstanceConnectionResV1:
    properties:
      connect_error_message:
        type: string
      instance_name:
        type: string
      is_instance_connectable:
        type: boolean
    type: object
  v1.InstanceForCheckConnection:
    properties:
      name:
        type: string
    type: object
  v1.InstanceForCreatingTask:
    properties:
      instance_name:
        type: string
      instance_schema:
        type: string
    type: object
  v1.InstanceInfo:
    properties:
      instance_id:
        type: string
      instance_name:
        type: string
    type: object
  v1.InstanceOverviewStatistics:
    properties:
      avg_score:
        type: number
      high_priority_sql_count:
        type: integer
      instance_id:
        type: string
      pending_workflow_count:
        type: integer
    type: object
  v1.InstanceSchemaResV1:
    properties:
      schema_name_list:
        items:
          type: string
        type: array
    type: object
  v1.InstanceTableMeta:
    properties:
      columns:
        $ref: '#/definitions/v1.TableColumns'
        type: object
      create_table_sql:
        type: string
      indexes:
        $ref: '#/definitions/v1.TableIndexes'
        type: object
      name:
        type: string
      schema:
        type: string
    type: object
  v1.InstanceTipResV1:
    properties:
      backup_max_rows:
        type: integer
      enable_backup:
        type: boolean
      host:
        type: string
      instance_id:
        type: string
      instance_name:
        type: string
      instance_type:
        type: string
      port:
        type: string
      supported_backup_strategy:
        items:
          enum:
          - none
          - manual
          - reverse_sql
          - original_row
          type: string
        type: array
      workflow_template_id:
        type: integer
    type: object
  v1.InstanceTypePercent:
    properties:
      count:
        type: integer
      percent:
        type: number
      type:
        type: string
    type: object
  v1.InstancesTypePercentV1:
    properties:
      instance_total_num:
        type: integer
      instance_type_percents:
        items:
          $ref: '#/definitions/v1.InstanceTypePercent'
        type: array
    type: object
  v1.KnowledgeBase:
    properties:
      content:
        description: 内容
        type: string
      description:
        description: 描述
        type: string
      id:
        description: 知识库ID
        type: integer
      rule_name:
        description: 规则名称
        type: string
      tags:
        description: 标签
        items:
          $ref: '#/definitions/v1.Tag'
        type: array
      title:
        description: 标题
        type: string
    type: object
  v1.LicenseItem:
    properties:
      description:
        type: string
      limit:
        type: string
      name:
        type: string
    type: object
  v1.LicenseUsageItem:
    properties:
      is_limited:
        type: boolean
      limit:
        type: integer
      resource_type:
        type: string
      resource_type_desc:
        type: string
      used:
        type: integer
    type: object
  v1.LicenseUsageV1:
    properties:
      instances_usage:
        items:
          $ref: '#/definitions/v1.LicenseUsageItem'
        type: array
      users_usage:
        $ref: '#/definitions/v1.LicenseUsageItem'
        type: object
    type: object
  v1.ListTableBySchemaResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.Table'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.LockSqlVersionReqV1:
    properties:
      is_locked:
        type: boolean
    type: object
  v1.MaintenanceTimeResV1:
    properties:
      maintenance_start_time:
        $ref: '#/definitions/v1.TimeResV1'
        type: object
      maintenance_stop_time:
        $ref: '#/definitions/v1.TimeResV1'
        type: object
    type: object
  v1.ModuleRedDot:
    properties:
      has_red_dot:
        type: boolean
      module_name:
        enum:
        - global_dashboard
        type: string
    type: object
  v1.ModuleRedDots:
    items:
      $ref: '#/definitions/v1.ModuleRedDot'
    type: array
  v1.ModuleStatusRes:
    properties:
      is_supported:
        type: boolean
    type: object
  v1.NodeResponse:
    properties:
      id:
        type: string
      name:
        type: string
      weight:
        type: integer
    type: object
  v1.ObjectDiffResult:
    properties:
      comparison_result:
        enum:
        - same
        - inconsistent
        - base_not_exist
        - comparison_not_exist
        type: string
      object_name:
        type: string
    type: object
  v1.OperationActionList:
    properties:
      desc:
        type: string
      operation_action:
        type: string
      operation_type:
        type: string
    type: object
  v1.OperationRecordList:
    properties:
      id:
        type: integer
      operation_action:
        type: string
      operation_content:
        type: string
      operation_time:
        type: string
      operation_type_name:
        type: string
      operation_user:
        $ref: '#/definitions/v1.OperationUser'
        type: object
      project_name:
        type: string
      status:
        enum:
        - succeeded
        - failed
        type: string
    type: object
  v1.OperationResV1:
    properties:
      op_code:
        type: integer
      op_desc:
        type: string
    type: object
  v1.OperationTypeNameList:
    properties:
      desc:
        type: string
      operation_type_name:
        type: string
    type: object
  v1.OperationUser:
    properties:
      ip:
        type: string
      user_name:
        type: string
    type: object
  v1.OperatorResV1:
    properties:
      operator_enums_value:
        items:
          $ref: '#/definitions/v1.EnumsValueResV1'
        type: array
      operator_value:
        type: string
    type: object
  v1.OptimizationDetail:
    properties:
      basic_summary:
        $ref: '#/definitions/v1.Optimizationsummary'
        type: object
      created_time:
        type: string
      created_user:
        type: string
      db_type:
        type: string
      index_recommendations:
        items:
          type: string
        type: array
      instance_name:
        type: string
      optimization_id:
        type: string
      optimization_name:
        type: string
      status:
        description: 优化状态
        type: string
    type: object
  v1.OptimizationRecord:
    properties:
      created_time:
        description: 创建时间
        type: string
      created_user:
        description: 创建人
        type: string
      db_type:
        description: 数据库类型
        type: string
      instance_name:
        description: 数据源
        type: string
      optimization_id:
        description: 优化ID
        type: string
      optimization_name:
        type: string
      performance_gain:
        description: 优化提升性能
        type: number
      status:
        description: 优化状态
        type: string
    type: object
  v1.OptimizationRecordOverview:
    properties:
      record_number:
        type: integer
      time:
        type: string
    type: object
  v1.OptimizationSQL:
    properties:
      contributing_indices:
        type: string
      number:
        type: integer
      number_of_hit_index:
        type: integer
      number_of_index:
        type: integer
      number_of_rewrite:
        type: integer
      number_of_syntax_error:
        type: integer
      original_sql:
        type: string
      performance:
        type: number
    type: object
  v1.OptimizationSQLDetail:
    properties:
      explain_validation_details:
        $ref: '#/definitions/v1.ExplainValidationDetail'
        type: object
      index_recommendations:
        description: 索引建议
        items:
          type: string
        type: array
      optimized_sql:
        description: 优化后的SQL
        type: string
      original_sql:
        description: 原始SQL
        type: string
      triggered_rule:
        description: 触发的规则
        items:
          $ref: '#/definitions/v1.RewriteRule'
        type: array
    type: object
  v1.Optimizationsummary:
    properties:
      number_of_index:
        type: integer
      number_of_query:
        type: integer
      number_of_query_index:
        type: integer
      number_of_rewrite:
        type: integer
      number_of_rewritten_query:
        type: integer
      number_of_syntax_error:
        type: integer
      performance_gain:
        type: number
    type: object
  v1.OptimizeSQLReq:
    properties:
      db_type:
        example: MySQL
        type: string
      instance_name:
        example: instance1
        type: string
      optimization_name:
        example: optmz_2024031412091244
        type: string
      schema_name:
        example: schema1
        type: string
      sql_content:
        example: select * from t1; select * from t2;
        type: string
    type: object
  v1.OptimizeSQLRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.OptimizeSQLResData'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.OptimizeSQLResData:
    properties:
      sql_optimization_record_id:
        type: string
    type: object
  v1.ParseProjectRuleTemplateFileResDataV1:
    properties:
      db_type:
        type: string
      desc:
        type: string
      name:
        type: string
      rule_list:
        items:
          $ref: '#/definitions/v1.RuleResV1'
        type: array
      rule_version:
        type: integer
    type: object
  v1.ParseProjectRuleTemplateFileResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.ParseProjectRuleTemplateFileResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.PartialSyncAuditPlanSQLsReqV1:
    properties:
      audit_plan_sql_list:
        items:
          $ref: '#/definitions/v1.AuditPlanSQLReqV1'
        type: array
    type: object
  v1.PerformanceStatistics:
    properties:
      affect_rows:
        $ref: '#/definitions/v1.AffectRows'
        type: object
    type: object
  v1.PostSqlManageCodingResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.CodingResp'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.ProjectRuleTemplateResV1:
    properties:
      db_type:
        type: string
      desc:
        type: string
      rule_template_name:
        type: string
    type: object
  v1.ProjectScore:
    properties:
      score:
        type: integer
    type: object
  v1.RecordSource:
    properties:
      name:
        enum:
        - ide_plugin
        type: string
      value:
        type: string
    type: object
  v1.RefreshAuditPlanTokenReqV1:
    properties:
      expires_in_days:
        type: integer
    type: object
  v1.RejectWorkflowReqV1:
    properties:
      reason:
        type: string
    type: object
  v1.ReleaseWorkflows:
    properties:
      target_release_instances:
        items:
          $ref: '#/definitions/v1.TargetReleaseInstance'
        type: array
      workflow_id:
        type: string
    type: object
  v1.ReportPushConfigList:
    properties:
      enabled:
        type: boolean
      last_push_time:
        type: string
      push_frequency_cron:
        type: string
      push_user_Type:
        enum:
        - fixed
        - permission_match
        type: string
      push_user_list:
        items:
          type: string
        type: array
      report_push_config_id:
        type: string
      trigger_type:
        enum:
        - immediately
        - timing
        type: string
      type:
        type: string
    type: object
  v1.RewriteRule:
    properties:
      message:
        type: string
      rewritten_queries_str:
        type: string
      rule_code:
        type: string
      rule_name:
        type: string
      violated_queries_str:
        type: string
    type: object
  v1.RewriteSQLData:
    properties:
      business_desc:
        description: 重写前的SQL业务描述
        type: string
      business_non_equivalent_desc:
        description: 重写前后的业务不等价性描述，为空表示等价
        type: string
      logic_desc:
        description: 重写前的SQL执行逻辑描述
        type: string
      rewritten_sql:
        description: 重写后的SQL
        type: string
      rewritten_sql_business_desc:
        description: 重写后的SQL业务描述
        type: string
      rewritten_sql_logic_desc:
        description: 重写后的SQL执行逻辑描述
        type: string
      suggestions:
        description: 重写建议列表
        items:
          $ref: '#/definitions/v1.RewriteSuggestion'
        type: array
    type: object
  v1.RewriteSQLReq:
    properties:
      enable_structure_type:
        default: false
        description: 是否启用结构化类型的重写
        example: false
        type: boolean
    type: object
  v1.RewriteSuggestion:
    properties:
      audit_level:
        description: 审核规则等级
        enum:
        - normal
        - notice
        - warn
        - error
        type: string
      ddl_dcl:
        description: 具体的数据库结构变更语句，需要在数据库中执行该变更语句之后再应用重写SQL（包含CREATE/ALTER/DROP等DDL语句，或SET等DCL语句）（适用于结构级重写）
        type: string
      ddl_dcl_desc:
        description: 数据库结构变更建议说明（例如：建议添加索引、修改表结构等优化建议）（适用于结构级重写）
        type: string
      desc:
        description: 重写描述（适用于所有类型）
        type: string
      rewritten_sql:
        description: 重写后的SQL（适用于语句级重写和结构级重写）
        type: string
      rule_name:
        description: 审核规则名称
        type: string
      status:
        default: initial
        description: 处理状态：初始化、已处理
        enum:
        - initial
        - processed
        type: string
      type:
        description: 重写建议类型：语句级重写、结构级重写、其他
        enum:
        - statement
        - structure
        - other
        type: string
    type: object
  v1.RiskAuditPlan:
    properties:
      audit_plan_name:
        type: string
      audit_plan_report_id:
        type: integer
      audit_plan_report_timestamp:
        type: string
      risk_sql_count:
        type: integer
      trigger_audit_plan_time:
        type: string
    type: object
  v1.RiskWorkflow:
    properties:
      create_user_name:
        type: string
      update_time:
        type: string
      workflow_id:
        type: string
      workflow_name:
        type: string
      workflow_status:
        type: string
    type: object
  v1.RoleUserCount:
    properties:
      count:
        type: integer
      role:
        type: string
    type: object
  v1.RuleInfo:
    properties:
      annotation:
        example: this is test rule
        type: string
      desc:
        example: this is test rule
        type: string
    type: object
  v1.RuleKnowledgeResV1:
    properties:
      knowledge_content:
        type: string
      rule:
        $ref: '#/definitions/v1.RuleInfo'
        type: object
    type: object
  v1.RuleParamReqV1:
    properties:
      key:
        type: string
      value:
        type: string
    type: object
  v1.RuleParamResV1:
    properties:
      desc:
        type: string
      key:
        type: string
      type:
        enum:
        - string
        - int
        - bool
        type: string
      value:
        type: string
    type: object
  v1.RuleProjectTemplateDetailResV1:
    properties:
      db_type:
        type: string
      desc:
        type: string
      rule_list:
        items:
          $ref: '#/definitions/v1.RuleResV1'
        type: array
      rule_template_name:
        type: string
      rule_version:
        type: integer
    type: object
  v1.RuleReqV1:
    properties:
      is_custom_rule:
        type: boolean
      level:
        example: error
        type: string
      name:
        example: ddl_check_index_count
        type: string
      params:
        items:
          $ref: '#/definitions/v1.RuleParamReqV1'
        type: array
    type: object
  v1.RuleResV1:
    properties:
      annotation:
        example: 避免多次 table rebuild 带来的消耗、以及对线上业务的影响
        type: string
      categories:
        additionalProperties:
          items:
            type: string
          type: array
        type: object
      db_type:
        example: mysql
        type: string
      desc:
        type: string
      has_audit_power:
        type: boolean
      has_rewrite_power:
        type: boolean
      is_custom_rule:
        type: boolean
      level:
        enum:
        - normal
        - notice
        - warn
        - error
        example: error
        type: string
      params:
        items:
          $ref: '#/definitions/v1.RuleParamResV1'
        type: array
      rule_name:
        type: string
      type:
        example: 全局配置
        type: string
      version:
        type: integer
    type: object
  v1.RuleRespV1:
    properties:
      desc:
        type: string
      rule_name:
        type: string
    type: object
  v1.RuleTemplateDetailResV1:
    properties:
      db_type:
        type: string
      desc:
        type: string
      rule_list:
        items:
          $ref: '#/definitions/v1.RuleResV1'
        type: array
      rule_template_name:
        type: string
      rule_version:
        type: integer
    type: object
  v1.RuleTemplateResV1:
    properties:
      db_type:
        type: string
      desc:
        type: string
      rule_template_name:
        type: string
      rule_version:
        type: integer
    type: object
  v1.RuleTemplateTipResV1:
    properties:
      db_type:
        type: string
      is_default_rule_template:
        type: boolean
      rule_template_id:
        type: string
      rule_template_name:
        type: string
      rule_version:
        type: integer
    type: object
  v1.RuleTips:
    properties:
      db_type:
        type: string
      rule:
        items:
          $ref: '#/definitions/v1.RuleRespV1'
        type: array
    type: object
  v1.RuleTypeV1:
    properties:
      is_custom_rule_type:
        type: boolean
      rule_count:
        type: integer
      rule_type:
        type: string
    type: object
  v1.SQLAuditRecord:
    properties:
      created_at:
        type: string
      creator:
        type: string
      instance:
        $ref: '#/definitions/v1.SQLAuditRecordInstance'
        type: object
      sql_audit_record_id:
        type: string
      sql_audit_status:
        type: string
      tags:
        items:
          type: string
        type: array
      task:
        $ref: '#/definitions/v1.AuditTaskResV1'
        type: object
    type: object
  v1.SQLAuditRecordInstance:
    properties:
      db_host:
        example: 10.10.10.10
        type: string
      db_port:
        example: "3306"
        type: string
    type: object
  v1.SQLAuditRecordResData:
    properties:
      sql_audit_record_id:
        type: string
      task:
        $ref: '#/definitions/v1.AuditTaskResV1'
        type: object
    type: object
  v1.SQLAuditResult:
    properties:
      db_type:
        type: string
      error_info:
        type: string
      execution_failed:
        example: false
        type: boolean
      i18n_audit_result_info:
        $ref: '#/definitions/model.I18nAuditResultInfo'
        type: object
      level:
        example: warn
        type: string
      message:
        example: 避免使用不必要的内置函数md5()
        type: string
      rule_name:
        type: string
    type: object
  v1.SQLExplain:
    properties:
      classic_result:
        $ref: '#/definitions/v1.ExplainClassicResult'
        description: explain result in table format
        type: object
      cost:
        type: number
      message:
        type: string
      sql:
        type: string
    type: object
  v1.SQLQueryConfigResV1:
    properties:
      allow_query_when_less_than_audit_level:
        enum:
        - normal
        - notice
        - warn
        - error
        type: string
      audit_enabled:
        type: boolean
      max_pre_query_rows:
        type: integer
      query_timeout_second:
        type: integer
    type: object
  v1.SQLStatement:
    properties:
      audit_error:
        type: string
      sql_statement_with_audit:
        $ref: '#/definitions/v1.SQLStatementWithAuditResult'
        type: object
    type: object
  v1.SQLStatementWithAuditResult:
    properties:
      audit_results:
        items:
          $ref: '#/definitions/v1.SQLAuditResult'
        type: array
      sql_statement:
        type: string
    type: object
  v1.SSHPublicKeyInfo:
    properties:
      public_key:
        type: string
    type: object
  v1.SSHPublicKeyInfoV1Rsp:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SSHPublicKeyInfo'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.ScheduleTaskDefaultOption:
    properties:
      default_selector:
        enum:
        - wechat
        - feishu
        type: string
    type: object
  v1.ScheduledTaskDefaultOptionV1Rsp:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.ScheduleTaskDefaultOption'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.SchemaObject:
    properties:
      base_schema_name:
        type: string
      comparison_result:
        enum:
        - same
        - inconsistent
        - base_not_exist
        - comparison_not_exist
        type: string
      comparison_schema_name:
        type: string
      database_diff_objects:
        items:
          $ref: '#/definitions/v1.DatabaseDiffObject'
        type: array
      inconsistent_num:
        type: integer
    type: object
  v1.Source:
    properties:
      sql_source_desc:
        type: string
      sql_source_ids:
        items:
          type: string
        type: array
      sql_source_type:
        type: string
    type: object
  v1.SqlAnalysis:
    properties:
      performance_statistics:
        $ref: '#/definitions/v1.PerformanceStatistics'
        type: object
      sql_explain:
        $ref: '#/definitions/v1.SQLExplain'
        type: object
      table_metas:
        $ref: '#/definitions/v1.TableMetas'
        type: object
    type: object
  v1.SqlAnalysisChart:
    properties:
      message:
        type: string
      points:
        items:
          $ref: '#/definitions/v1.ChartPoint'
        type: array
      x_info:
        type: string
      y_info:
        type: string
    type: object
  v1.SqlAnalysisResDataV1:
    properties:
      sql_explain:
        $ref: '#/definitions/v1.SQLExplain'
        type: object
      table_metas:
        items:
          $ref: '#/definitions/v1.TableMeta'
        type: array
    type: object
  v1.SqlAverageExecutionTime:
    properties:
      average_execution_seconds:
        type: integer
      instance_name:
        type: string
      max_execution_seconds:
        type: integer
      min_execution_seconds:
        type: integer
    type: object
  v1.SqlDEVRecord:
    properties:
      audit_result:
        items:
          $ref: '#/definitions/v1.AuditResult'
        type: array
      creator:
        description: create user name
        type: string
      first_appear_timestamp:
        type: string
      fp_count:
        type: integer
      id:
        type: integer
      instance_name:
        type: string
      last_receive_timestamp:
        type: string
      schema_name:
        type: string
      source:
        $ref: '#/definitions/v1.RecordSource'
        type: object
      sql:
        type: string
      sql_fingerprint:
        type: string
    type: object
  v1.SqlExecutionFailPercent:
    properties:
      instance_name:
        type: string
      percent:
        type: number
    type: object
  v1.SqlFileOrderMethod:
    properties:
      desc:
        type: string
      order_method:
        type: string
    type: object
  v1.SqlFileOrderMethodRes:
    properties:
      methods:
        items:
          $ref: '#/definitions/v1.SqlFileOrderMethod'
        type: array
    type: object
  v1.SqlManage:
    properties:
      appear_num:
        type: integer
      assignees:
        items:
          type: string
        type: array
      audit_result:
        items:
          $ref: '#/definitions/v1.AuditResult'
        type: array
      endpoint:
        type: string
      first_appear_time:
        type: string
      id:
        type: integer
      instance_name:
        type: string
      last_appear_time:
        type: string
      remark:
        type: string
      schema_name:
        type: string
      source:
        $ref: '#/definitions/v1.Source'
        type: object
      sql:
        type: string
      sql_fingerprint:
        type: string
      status:
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        - sent
        type: string
    type: object
  v1.SqlManageAnalysisChartResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.SqlAnalysisChart'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.SqlManageCodingReq:
    properties:
      coding_project_name:
        type: string
      priority:
        enum:
        - LOW
        - MEDIUM
        - HIGH
        - EMERGENCY
        type: string
      sql_manage_id_list:
        items:
          type: integer
        type: array
      type:
        enum:
        - DEFECT
        - MISSION
        - REQUIREMENT
        - EPIC
        - SUB_TASK
        type: string
    type: object
  v1.SqlVersionDetailResV1:
    properties:
      desc:
        type: string
      sql_version_id:
        type: integer
      sql_version_stage_detail:
        items:
          $ref: '#/definitions/v1.SqlVersionStageDetail'
        type: array
      status:
        enum:
        - is_being_released
        - locked
        type: string
      version:
        type: string
    type: object
  v1.SqlVersionResV1:
    properties:
      created_at:
        type: string
      deletable:
        type: boolean
      desc:
        type: string
      lock_time:
        type: string
      lockable:
        type: boolean
      status:
        enum:
        - is_being_released
        - locked
        type: string
      version:
        type: string
      version_id:
        type: integer
    type: object
  v1.SqlVersionStageDetail:
    properties:
      stage_id:
        type: integer
      stage_instances:
        items:
          $ref: '#/definitions/v1.VersionStageInstance'
        type: array
      stage_name:
        type: string
      stage_sequence:
        type: integer
      workflow_details:
        items:
          $ref: '#/definitions/v1.WorkflowDetailWithInstance'
        type: array
    type: object
  v1.StatisticAuditPlanResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.DBTypeAuditPlan'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.StatisticRiskWorkflowResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v1.RiskWorkflow'
        type: array
      message:
        example: ok
        type: string
    type: object
  v1.StatisticsAuditedSQLResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditedSQLCount'
        type: object
      message:
        example: ok
        type: string
      risk_rate:
        type: integer
    type: object
  v1.SystemVariablesResV1:
    properties:
      cb_operation_logs_expired_hours:
        type: integer
      operation_record_expired_hours:
        type: integer
      url:
        type: string
    type: object
  v1.Table:
    properties:
      name:
        type: string
    type: object
  v1.TableColumns:
    properties:
      head:
        items:
          $ref: '#/definitions/v1.TableMetaItemHeadResV1'
        type: array
      rows:
        items:
          additionalProperties:
            type: string
          type: object
        type: array
    type: object
  v1.TableIndexes:
    properties:
      head:
        items:
          $ref: '#/definitions/v1.TableMetaItemHeadResV1'
        type: array
      rows:
        items:
          additionalProperties:
            type: string
          type: object
        type: array
    type: object
  v1.TableMeta:
    properties:
      columns:
        $ref: '#/definitions/v1.TableColumns'
        type: object
      create_table_sql:
        type: string
      indexes:
        $ref: '#/definitions/v1.TableIndexes'
        type: object
      message:
        type: string
      name:
        type: string
      schema:
        type: string
    type: object
  v1.TableMetaItemHeadResV1:
    properties:
      desc:
        type: string
      field_name:
        type: string
    type: object
  v1.TableMetas:
    properties:
      err_message:
        type: string
      table_meta_items:
        items:
          $ref: '#/definitions/v1.TableMeta'
        type: array
    type: object
  v1.Tag:
    properties:
      id:
        description: 标签ID
        type: integer
      name:
        description: 标签名称
        type: string
      sub_tags:
        description: 子标签
        items:
          $ref: '#/definitions/v1.Tag'
        type: array
    type: object
  v1.TargetReleaseInstance:
    properties:
      instance_id:
        type: string
      instance_schema:
        type: string
      target_instance_id:
        type: string
      target_instance_schema:
        type: string
    type: object
  v1.TestAuditPlanNotifyConfigResDataV1:
    properties:
      is_notify_send_normal:
        type: boolean
      send_error_message:
        type: string
    type: object
  v1.TestAuditPlanNotifyConfigResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.TestAuditPlanNotifyConfigResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.TestCodingConfigResDataV1:
    properties:
      error_message:
        type: string
      is_message_sent_normally:
        type: boolean
    type: object
  v1.TestCodingConfigResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.TestCodingConfigResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.TestCodingConfigurationReqV1:
    properties:
      coding_project_name:
        type: string
    type: object
  v1.TestDingTalkConfigResDataV1:
    properties:
      is_ding_talk_send_normal:
        type: boolean
      send_error_message:
        type: string
    type: object
  v1.TestDingTalkConfigResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.TestDingTalkConfigResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.TestFeishuConfigResDataV1:
    properties:
      error_message:
        type: string
      is_message_sent_normally:
        type: boolean
    type: object
  v1.TestFeishuConfigResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.TestFeishuConfigResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.TestFeishuConfigurationReqV1:
    properties:
      account:
        type: string
      account_type:
        enum:
        - email
        - phone
        type: string
    type: object
  v1.TestGitConnectionReqV1:
    properties:
      git_http_url:
        type: string
      git_user_name:
        type: string
      git_user_password:
        type: string
    type: object
  v1.TestGitConnectionResDataV1:
    properties:
      branches:
        items:
          type: string
        type: array
      error_message:
        type: string
      is_connected_success:
        type: boolean
    type: object
  v1.TestGitConnectionResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.TestGitConnectionResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.TestWechatConfigResDataV1:
    properties:
      error_message:
        type: string
      is_message_sent_normally:
        type: boolean
    type: object
  v1.TestWechatConfigResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.TestWechatConfigResDataV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.TestWechatConfigurationReqV1:
    properties:
      wechat_id:
        type: string
    type: object
  v1.TimeResV1:
    properties:
      hour:
        type: integer
      minute:
        type: integer
    type: object
  v1.TriggerAuditPlanResV1:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v1.AuditPlanReportResV1'
        type: object
      message:
        example: ok
        type: string
    type: object
  v1.UpdateAuditPlanNotifyConfigReqV1:
    properties:
      enable_email_notify:
        type: boolean
      enable_web_hook_notify:
        type: boolean
      notify_interval:
        default: 10
        type: integer
      notify_level:
        default: warn
        enum:
        - normal
        - notice
        - warn
        - error
        type: string
      web_hook_template:
        type: string
      web_hook_url:
        type: string
    type: object
  v1.UpdateAuditPlanReqV1:
    properties:
      audit_plan_cron:
        example: 0 */2 * * *
        type: string
      audit_plan_instance_database:
        example: app1
        type: string
      audit_plan_instance_name:
        example: test_mysql
        type: string
      audit_plan_params:
        items:
          $ref: '#/definitions/v1.AuditPlanParamReqV1'
        type: array
      rule_template_name:
        example: default_MySQL
        type: string
    type: object
  v1.UpdateAuditPlanStatusReqV1:
    properties:
      active:
        description: 任务状态
        enum:
        - normal
        - disabled
        type: string
    type: object
  v1.UpdateAuditTaskSQLsReqV1:
    properties:
      description:
        type: string
    type: object
  v1.UpdateAuditWhitelistReqV1:
    properties:
      desc:
        example: used for rapid release
        type: string
      match_type:
        enum:
        - exact_match
        - fp_match
        example: exact_match
        type: string
      value:
        example: create table
        type: string
    type: object
  v1.UpdateBlacklistReqV1:
    properties:
      content:
        example: select * from t1
        type: string
      desc:
        example: used for rapid release
        type: string
      type:
        enum:
        - sql
        - fp_sql
        - ip
        - cidr
        - host
        - instance
        example: sql
        type: string
    type: object
  v1.UpdateCodingConfigurationReqV1:
    properties:
      coding_url:
        type: string
      is_coding_enabled:
        type: boolean
      token:
        type: string
    type: object
  v1.UpdateCompanyNoticeReq:
    properties:
      notice_str:
        type: string
    type: object
  v1.UpdateCustomRuleReqV1:
    properties:
      annotation:
        example: this is test rule
        type: string
      desc:
        example: this is test rule
        type: string
      level:
        enum:
        - normal
        - notice
        - warn
        - error
        example: notice
        type: string
      rule_script:
        type: string
      tags:
        items:
          type: string
        type: array
      type:
        example: DDL规则
        type: string
    type: object
  v1.UpdateDingTalkConfigurationReqV1:
    properties:
      app_key:
        type: string
      app_secret:
        type: string
      is_enable_ding_talk_notify:
        type: boolean
    required:
    - app_key
    - app_secret
    - is_enable_ding_talk_notify
    type: object
  v1.UpdateFeishuConfigurationReqV1:
    properties:
      app_id:
        type: string
      app_secret:
        type: string
      is_feishu_notification_enabled:
        type: boolean
    required:
    - app_id
    - app_secret
    - is_feishu_notification_enabled
    type: object
  v1.UpdateInstanceAuditPlanReqV1:
    properties:
      audit_plans:
        description: 扫描类型
        items:
          $ref: '#/definitions/v1.AuditPlan'
        type: array
    type: object
  v1.UpdateInstanceAuditPlanStatusReqV1:
    properties:
      active:
        description: 任务状态
        enum:
        - normal
        - disabled
        type: string
    type: object
  v1.UpdatePipelineReqV1:
    properties:
      address:
        description: 关联流水线地址
        type: string
      description:
        description: 流水线描述
        type: string
      name:
        description: 流水线名称
        type: string
      nodes:
        description: 节点信息
        items:
          $ref: '#/definitions/v1.updatePipelineNode'
        type: array
    type: object
  v1.UpdateProjectRuleTemplateReqV1:
    properties:
      desc:
        type: string
      rule_list:
        items:
          $ref: '#/definitions/v1.RuleReqV1'
        type: array
    type: object
  v1.UpdateReportPushConfigReqV1:
    properties:
      enabled:
        type: boolean
      push_frequency_cron:
        type: string
      push_user_Type:
        enum:
        - fixed
        - permission_match
        type: string
      push_user_list:
        items:
          type: string
        type: array
      trigger_type:
        enum:
        - immediately
        - timing
        type: string
    type: object
  v1.UpdateRuleKnowledgeReq:
    properties:
      knowledge_content:
        type: string
    type: object
  v1.UpdateRuleTemplateReqV1:
    properties:
      desc:
        type: string
      rule_list:
        items:
          $ref: '#/definitions/v1.RuleReqV1'
        type: array
    type: object
  v1.UpdateSQLAuditRecordReqV1:
    properties:
      tags:
        items:
          type: string
        type: array
    type: object
  v1.UpdateSqlBackupStrategyReq:
    properties:
      strategy:
        enum:
        - none
        - manual
        - reverse_sql
        - original_row
        type: string
    type: object
  v1.UpdateSqlFileOrderV1Req:
    properties:
      files_to_sort:
        items:
          $ref: '#/definitions/v1.FileToSort'
        type: array
    type: object
  v1.UpdateSqlVersionReqV1:
    properties:
      desc:
        type: string
      update_sql_version_stage:
        items:
          $ref: '#/definitions/v1.UpdateSqlVersionStage'
        type: array
      version:
        example: "2.23"
        type: string
    type: object
  v1.UpdateSqlVersionStage:
    properties:
      name:
        example: 生产
        type: string
      stage_sequence:
        type: integer
      update_stages_instance_dep:
        items:
          $ref: '#/definitions/v1.UpdateStagesInstanceDep'
        type: array
    type: object
  v1.UpdateStagesInstanceDep:
    properties:
      next_stage_instance_id:
        type: string
      stage_instance_id:
        type: string
    type: object
  v1.UpdateSystemVariablesReqV1:
    properties:
      cb_operation_logs_expired_hours:
        example: 2160
        type: integer
      operation_record_expired_hours:
        example: 2160
        type: integer
      url:
        example: http://10.186.61.32:8080
        type: string
    type: object
  v1.UpdateTaskBackupStrategyReq:
    properties:
      strategy:
        enum:
        - none
        - manual
        - reverse_sql
        - original_row
        type: string
    type: object
  v1.UpdateWechatConfigurationReqV1:
    properties:
      corp_id:
        type: string
      corp_secret:
        type: string
      is_wechat_notification_enabled:
        type: boolean
    required:
    - is_wechat_notification_enabled
    type: object
  v1.UpdateWorkflowReqV1:
    properties:
      task_ids:
        items:
          type: integer
        type: array
    type: object
  v1.UpdateWorkflowScheduleReqV1:
    properties:
      schedule_time:
        type: string
    type: object
  v1.UpdateWorkflowTemplateReqV1:
    properties:
      allow_submit_when_less_audit_level:
        enum:
        - normal
        - notice
        - warn
        - error
        type: string
      desc:
        type: string
      workflow_step_template_list:
        items:
          $ref: '#/definitions/v1.WorkFlowStepTemplateReqV1'
        type: array
    type: object
  v1.UserTipResV1:
    properties:
      user_id:
        type: string
      user_name:
        type: string
    type: object
  v1.VersionStageInstance:
    properties:
      instance_schema:
        type: string
      instances_id:
        type: string
      instances_name:
        type: string
    type: object
  v1.WechatConfigurationV1:
    properties:
      corp_id:
        type: string
      is_wechat_notification_enabled:
        type: boolean
    type: object
  v1.WorkFlowStepTemplateReqV1:
    properties:
      approved_by_authorized:
        type: boolean
      assignee_user_id_list:
        items:
          type: string
        type: array
      desc:
        type: string
      execute_by_authorized:
        type: boolean
      type:
        enum:
        - sql_review
        - sql_execute
        type: string
    type: object
  v1.WorkFlowStepTemplateResV1:
    properties:
      approved_by_authorized:
        type: boolean
      assignee_user_id_list:
        items:
          type: string
        type: array
      desc:
        type: string
      execute_by_authorized:
        type: boolean
      number:
        type: integer
      type:
        type: string
    type: object
  v1.WorkflowAuditPassPercentV1:
    properties:
      audit_pass_percent:
        type: number
    type: object
  v1.WorkflowCountsV1:
    properties:
      today_count:
        type: integer
      total:
        type: integer
    type: object
  v1.WorkflowCreatedCountsEachDayItem:
    properties:
      date:
        example: "2022-08-24"
        type: string
      value:
        type: integer
    type: object
  v1.WorkflowCreatedCountsEachDayV1:
    properties:
      samples:
        items:
          $ref: '#/definitions/v1.WorkflowCreatedCountsEachDayItem'
        type: array
    type: object
  v1.WorkflowDetailResV1:
    properties:
      create_time:
        type: string
      create_user_name:
        type: string
      current_step_assignee_user_name_list:
        items:
          type: string
        type: array
      current_step_type:
        enum:
        - sql_review
        - sql_execute
        type: string
      desc:
        type: string
      instance_info:
        items:
          $ref: '#/definitions/v1.InstanceInfo'
        type: array
      project_name:
        type: string
      project_priority:
        type: string
      project_uid:
        type: string
      sql_version_name:
        items:
          type: string
        type: array
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - canceled
        - exec_failed
        - executing
        - finished
        type: string
      workflow_id:
        type: string
      workflow_name:
        type: string
    type: object
  v1.WorkflowDetailWithInstance:
    properties:
      desc:
        type: string
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - canceled
        - exec_failed
        - executing
        - finished
        type: string
      workflow_exec_time:
        type: string
      workflow_id:
        type: string
      workflow_instances:
        items:
          $ref: '#/definitions/v1.VersionStageInstance'
        type: array
      workflow_name:
        type: string
      workflow_release_status:
        enum:
        - wait_for_release
        - released
        - not_need_release
        type: string
      workflow_sequence:
        type: integer
    type: object
  v1.WorkflowPassPercentV1:
    properties:
      audit_pass_percent:
        type: number
      execution_success_percent:
        type: number
    type: object
  v1.WorkflowPercentCountedByInstanceType:
    properties:
      count:
        type: integer
      instance_type:
        type: string
      percent:
        type: number
    type: object
  v1.WorkflowPercentCountedByInstanceTypeV1:
    properties:
      workflow_percents:
        items:
          $ref: '#/definitions/v1.WorkflowPercentCountedByInstanceType'
        type: array
      workflow_total_num:
        type: integer
    type: object
  v1.WorkflowRecordResV1:
    properties:
      current_step_number:
        type: integer
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - canceled
        - exec_failed
        - executing
        - finished
        type: string
      tasks:
        items:
          $ref: '#/definitions/v1.WorkflowTaskItem'
        type: array
      workflow_step_list:
        items:
          $ref: '#/definitions/v1.WorkflowStepResV1'
        type: array
    type: object
  v1.WorkflowRejectedPercentGroupByCreator:
    properties:
      creator:
        type: string
      rejected_percent:
        type: number
      workflow_total_num:
        type: integer
    type: object
  v1.WorkflowRejectedPercentGroupByInstance:
    properties:
      instance_name:
        type: string
      rejected_percent:
        type: number
      workflow_total_num:
        type: integer
    type: object
  v1.WorkflowResV1:
    properties:
      create_time:
        type: string
      create_user_name:
        type: string
      desc:
        type: string
      mode:
        enum:
        - same_sqls
        - different_sqls
        type: string
      record:
        $ref: '#/definitions/v1.WorkflowRecordResV1'
        type: object
      record_history_list:
        items:
          $ref: '#/definitions/v1.WorkflowRecordResV1'
        type: array
      workflow_name:
        type: string
    type: object
  v1.WorkflowStageDuration:
    properties:
      minutes:
        type: integer
    type: object
  v1.WorkflowStatisticOfInstance:
    properties:
      instance_id:
        type: integer
      unfinished_count:
        type: integer
    type: object
  v1.WorkflowStatisticsResV1:
    properties:
      my_need_execute_workflow_number:
        type: integer
      my_need_review_workflow_number:
        type: integer
      my_on_process_workflow_number:
        type: integer
      my_rejected_workflow_number:
        type: integer
      need_me_to_execute_workflow_number:
        type: integer
      need_me_to_review_workflow_number:
        type: integer
    type: object
  v1.WorkflowStatusCountV1:
    properties:
      closed_count:
        type: integer
      executing_count:
        type: integer
      executing_failed_count:
        type: integer
      execution_success_count:
        type: integer
      rejected_count:
        type: integer
      waiting_for_audit_count:
        type: integer
      waiting_for_execution_count:
        type: integer
    type: object
  v1.WorkflowStepResV1:
    properties:
      assignee_user_name_list:
        items:
          type: string
        type: array
      desc:
        type: string
      number:
        type: integer
      operation_time:
        type: string
      operation_user_name:
        type: string
      reason:
        type: string
      state:
        enum:
        - initialized
        - approved
        - rejected
        type: string
      type:
        enum:
        - create_workflow
        - update_workflow
        - sql_review
        - sql_execute
        type: string
      workflow_step_id:
        type: integer
    type: object
  v1.WorkflowTaskItem:
    properties:
      task_id:
        type: integer
    type: object
  v1.WorkflowTemplateDetailResV1:
    properties:
      allow_submit_when_less_audit_level:
        enum:
        - normal
        - notice
        - warn
        - error
        type: string
      desc:
        type: string
      update_time:
        type: string
      workflow_step_template_list:
        items:
          $ref: '#/definitions/v1.WorkFlowStepTemplateResV1'
        type: array
      workflow_template_name:
        type: string
    type: object
  v1.createPipelineResData:
    properties:
      pipeline_id:
        description: 流水线的唯一标识符
        type: integer
    type: object
  v1.pipelineDetail:
    properties:
      address:
        description: 关联流水线地址
        type: string
      description:
        description: 流水线描述
        type: string
      id:
        description: 流水线的唯一标识符
        type: integer
      name:
        description: 流水线名称
        type: string
      node_count:
        description: 节点个数
        type: integer
    type: object
  v1.pipelineDetailData:
    properties:
      address:
        description: 关联流水线地址
        type: string
      description:
        description: 流水线描述
        type: string
      id:
        description: 流水线的唯一标识符
        type: integer
      name:
        description: 流水线名称
        type: string
      node_count:
        description: 节点个数
        type: integer
      nodes:
        description: 流水线节点信息
        items:
          $ref: '#/definitions/v1.pipelineNodeDetail'
        type: array
    type: object
  v1.pipelineNodeBase:
    properties:
      audit_method:
        description: 审核方式，必选，可选项为离线审核、在线审核
        enum:
        - offline
        - online
        type: string
      instance_name:
        description: 数据源名称，在线审核时必填
        type: string
      instance_type:
        description: 数据源类型，离线审核时必填
        type: string
      name:
        description: 节点名称，必填，支持中文、英文+数字+特殊字符
        type: string
      object_path:
        description: 审核脚本路径，必填，用户填写文件路径
        type: string
      object_type:
        description: 审核对象类型，必填，可选项为SQL文件、MyBatis文件
        enum:
        - sql
        - mybatis
        type: string
      rule_template_name:
        description: 审核规则模板，必填
        type: string
      type:
        description: 节点类型，必填，选项为“审核”或“上线”
        enum:
        - audit
        - release
        type: string
    type: object
  v1.pipelineNodeDetail:
    properties:
      audit_method:
        description: 审核方式，必选，可选项为离线审核、在线审核
        enum:
        - offline
        - online
        type: string
      id:
        description: 节点的唯一标识符
        type: integer
      instance_name:
        description: 数据源名称，在线审核时必填
        type: string
      instance_type:
        description: 数据源类型，离线审核时必填
        type: string
      integration_info:
        description: 对接说明
        type: string
      name:
        description: 节点名称，必填，支持中文、英文+数字+特殊字符
        type: string
      object_path:
        description: 审核脚本路径，必填，用户填写文件路径
        type: string
      object_type:
        description: 审核对象类型，必填，可选项为SQL文件、MyBatis文件
        enum:
        - sql
        - mybatis
        type: string
      rule_template_name:
        description: 审核规则模板，必填
        type: string
      type:
        description: 节点类型，必填，选项为“审核”或“上线”
        enum:
        - audit
        - release
        type: string
    type: object
  v1.updatePipelineNode:
    properties:
      audit_method:
        description: 审核方式，必选，可选项为离线审核、在线审核
        enum:
        - offline
        - online
        type: string
      id:
        type: integer
      instance_name:
        description: 数据源名称，在线审核时必填
        type: string
      instance_type:
        description: 数据源类型，离线审核时必填
        type: string
      name:
        description: 节点名称，必填，支持中文、英文+数字+特殊字符
        type: string
      object_path:
        description: 审核脚本路径，必填，用户填写文件路径
        type: string
      object_type:
        description: 审核对象类型，必填，可选项为SQL文件、MyBatis文件
        enum:
        - sql
        - mybatis
        type: string
      rule_template_name:
        description: 审核规则模板，必填
        type: string
      type:
        description: 节点类型，必填，选项为“审核”或“上线”
        enum:
        - audit
        - release
        type: string
    type: object
  v2.AffectRows:
    properties:
      count:
        type: integer
      err_message:
        type: string
    type: object
  v2.AssociatedRollbackWorkflow:
    properties:
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - canceled
        - exec_failed
        - executing
        - finished
        type: string
      workflow_id:
        type: string
      workflow_name:
        type: string
    type: object
  v2.AssociatedStageWorkflows:
    properties:
      sql_version_stage_id:
        type: integer
      stage_sequence:
        type: integer
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - canceled
        - exec_failed
        - executing
        - finished
        type: string
      workflow_id:
        type: string
      workflow_name:
        type: string
    type: object
  v2.AuditFileExecStatistic:
    properties:
      exec_result_count:
        $ref: '#/definitions/v2.ExecResultCount'
        type: object
      file_id:
        type: string
      file_name:
        type: string
    type: object
  v2.AuditFileStatistic:
    properties:
      audit_result_count:
        $ref: '#/definitions/v2.AuditResultCount'
        type: object
      exec_order:
        type: integer
      exec_status:
        type: string
      file_id:
        type: string
      file_name:
        type: string
    type: object
  v2.AuditPlanReportSQLResV2:
    properties:
      audit_plan_report_sql:
        example: select * from t1 where id = 1
        type: string
      audit_plan_report_sql_audit_result:
        items:
          $ref: '#/definitions/v2.AuditResult'
        type: array
      number:
        example: 1
        type: integer
    type: object
  v2.AuditPlanRes:
    properties:
      audit_plan_params:
        items:
          $ref: '#/definitions/v1.AuditPlanParamResV1'
        type: array
      audit_plan_type:
        $ref: '#/definitions/v2.AuditPlanTypeResBase'
        type: object
      high_priority_conditions:
        items:
          $ref: '#/definitions/v1.HighPriorityConditionResV1'
        type: array
      need_mark_high_priority_sql:
        type: boolean
      rule_template_name:
        example: default_MySQL
        type: string
    type: object
  v2.AuditPlanResV2:
    properties:
      audit_plan_cron:
        example: 0 */2 * * *
        type: string
      audit_plan_db_type:
        example: mysql
        type: string
      audit_plan_instance_database:
        example: app1
        type: string
      audit_plan_instance_name:
        example: test_mysql
        type: string
      audit_plan_meta:
        $ref: '#/definitions/v1.AuditPlanMetaV1'
        type: object
      audit_plan_name:
        example: audit_for_java_app1
        type: string
      audit_plan_token:
        example: it's a JWT Token for scanner
        type: string
      create_user_id:
        type: string
      rule_template:
        $ref: '#/definitions/v2.RuleTemplateV2'
        type: object
    type: object
  v2.AuditPlanSQLReqV2:
    properties:
      audit_plan_sql_counter:
        example: "6"
        type: string
      audit_plan_sql_fingerprint:
        example: select * from t1 where id = ?
        type: string
      audit_plan_sql_last_receive_text:
        example: select * from t1 where id = 1
        type: string
      audit_plan_sql_last_receive_timestamp:
        example: RFC3339
        type: string
      audit_plan_sql_schema:
        example: db1
        type: string
      db_user:
        example: database_user001
        type: string
      endpoints:
        items:
          type: string
        type: array
      first_query_at:
        example: "2023-09-12T02:48:01.317880Z"
        type: string
      query_time_avg:
        example: 3.22
        type: number
      query_time_max:
        example: 5.22
        type: number
      row_examined_avg:
        example: 100.22
        type: number
    type: object
  v2.AuditPlanTypeResBase:
    properties:
      active_status:
        enum:
        - normal
        - disabled
        type: string
      audit_plan_id:
        type: integer
      desc:
        type: string
      last_collection_status:
        enum:
        - normal
        - abnormal
        type: string
      token:
        type: string
      type:
        type: string
    type: object
  v2.AuditResDataV2:
    properties:
      audit_level:
        enum:
        - normal
        - notice
        - warn
        - error
        - ""
        type: string
      pass_rate:
        type: number
      score:
        type: integer
      sql_results:
        items:
          $ref: '#/definitions/v2.AuditSQLResV2'
        type: array
    type: object
  v2.AuditResult:
    properties:
      db_type:
        type: string
      error_info:
        type: string
      execution_failed:
        example: false
        type: boolean
      i18n_audit_result_info:
        $ref: '#/definitions/model.I18nAuditResultInfo'
        type: object
      level:
        example: warn
        type: string
      message:
        example: 避免使用不必要的内置函数md5()
        type: string
      rule_name:
        type: string
    type: object
  v2.AuditResultCount:
    properties:
      error_sql_count:
        type: integer
      normal_sql_count:
        type: integer
      notice_sql_count:
        type: integer
      warning_sql_count:
        type: integer
    type: object
  v2.AuditSQLResV2:
    properties:
      audit_level:
        type: string
      audit_result:
        items:
          $ref: '#/definitions/v2.AuditResult'
        type: array
      exec_sql:
        type: string
      number:
        type: integer
    type: object
  v2.AuditTaskSQLResV2:
    properties:
      associated_rollback_workflows:
        items:
          $ref: '#/definitions/v2.AssociatedRollbackWorkflow'
        type: array
      audit_level:
        type: string
      audit_result:
        items:
          $ref: '#/definitions/v2.AuditResult'
        type: array
      audit_status:
        type: string
      backup_result:
        type: string
      backup_status:
        enum:
        - waiting_for_execution
        - executing
        - failed
        - succeed
        type: string
      backup_strategy:
        enum:
        - none
        - manual
        - reverse_sql
        - original_row
        type: string
      backup_strategy_tip:
        type: string
      description:
        type: string
      exec_result:
        type: string
      exec_sql:
        type: string
      exec_sql_id:
        type: integer
      exec_status:
        type: string
      number:
        type: integer
      rollback_sqls:
        items:
          type: string
        type: array
      sql_source_file:
        type: string
      sql_start_line:
        type: integer
      sql_type:
        type: string
    type: object
  v2.BatchCancelWorkflowsReqV2:
    properties:
      workflow_id_list:
        items:
          type: string
        type: array
    type: object
  v2.BatchCompleteWorkflowsReqV2:
    properties:
      workflow_id_list:
        items:
          type: string
        type: array
    type: object
  v2.CreateWorkflowReqV2:
    properties:
      desc:
        type: string
      sql_version_id:
        type: integer
      task_ids:
        items:
          type: integer
        type: array
      workflow_subject:
        type: string
    type: object
  v2.CreateWorkflowResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.CreateWorkflowResV2Data'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.CreateWorkflowResV2Data:
    properties:
      workflow_id:
        type: string
    type: object
  v2.DirectAuditFileReqV2:
    properties:
      file_contents:
        description: |-
          调用方不应该关心SQL是否被完美的拆分成独立的条目, 拆分SQL由SQLE实现
          每个数组元素是一个文件内容
        example:
        - select * from t1; select * from t2;
        items:
          type: string
        type: array
      instance_name:
        example: instance1
        type: string
      instance_type:
        example: MySQL
        type: string
      project_name:
        example: project1
        type: string
      schema_name:
        example: schema1
        type: string
      sql_type:
        enum:
        - sql
        - mybatis
        - ""
        example: sql
        type: string
    type: object
  v2.DirectAuditReqV2:
    properties:
      instance_type:
        example: MySQL
        type: string
      project_id:
        example: "700300"
        type: string
      rule_template_name:
        example: default
        type: string
      sql_content:
        description: 调用方不应该关心SQL是否被完美的拆分成独立的条目, 拆分SQL由SQLE实现
        example: select * from t1; select * from t2;
        type: string
      sql_type:
        enum:
        - sql
        - mybatis
        - ""
        example: sql
        type: string
    type: object
  v2.DirectAuditResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.AuditResDataV2'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.DriverMeta:
    properties:
      default_port:
        type: integer
      driver_name:
        type: string
      logo_url:
        type: string
    type: object
  v2.ExecResultCount:
    properties:
      doing_count:
        type: integer
      failed_count:
        type: integer
      initialized_count:
        type: integer
      manually_executed_count:
        type: integer
      succeeded_count:
        type: integer
      terminate_failed_count:
        type: integer
      terminate_succeeded_count:
        type: integer
    type: object
  v2.FullSyncAuditPlanSQLsReqV2:
    properties:
      audit_plan_sql_list:
        items:
          $ref: '#/definitions/v2.AuditPlanSQLReqV2'
        type: array
      error_message:
        type: string
    type: object
  v2.GetAuditFileExecStatisticRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.AuditFileExecStatistic'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.GetAuditFileListRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.AuditFileStatistic'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v2.GetAuditPlanAnalysisDataResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.TaskAnalysisDataV2'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.GetAuditPlanReportSQLsResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.AuditPlanReportSQLResV2'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v2.GetAuditPlansResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.AuditPlanResV2'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v2.GetAuditTaskSQLsResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.AuditTaskSQLResV2'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v2.GetDriversRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.DriverMeta'
        type: array
      message:
        example: ok
        type: string
    type: object
  v2.GetInstanceAuditPlanDetailRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.InstanceAuditPlanDetailRes'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.GetInstanceAuditPlansRes:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.InstanceAuditPlanResV1'
        type: array
      message:
        example: ok
        type: string
      total_nums:
        type: integer
    type: object
  v2.GetInstanceResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.InstanceResV2'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.GetInstanceTipsResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.InstanceTipResV2'
        type: array
      message:
        example: ok
        type: string
    type: object
  v2.GetSqlManageListResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.SqlManage'
        type: array
      message:
        example: ok
        type: string
      sql_manage_bad_num:
        type: integer
      sql_manage_optimized_num:
        type: integer
      sql_manage_total_num:
        type: integer
    type: object
  v2.GetTaskAnalysisDataResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.TaskAnalysisDataV2'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.GetWorkflowResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        $ref: '#/definitions/v2.WorkflowResV2'
        type: object
      message:
        example: ok
        type: string
    type: object
  v2.GetWorkflowTasksItemV2:
    properties:
      current_step_assignee_user_name_list:
        items:
          type: string
        type: array
      exec_end_time:
        type: string
      exec_start_time:
        type: string
      execution_user_name:
        type: string
      instance_maintenance_times:
        items:
          $ref: '#/definitions/v1.MaintenanceTimeResV1'
        type: array
      instance_name:
        type: string
      schedule_time:
        type: string
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - exec_scheduled
        - exec_failed
        - exec_succeeded
        - executing
        - manually_executed
        - terminating
        - terminate_succeeded
        - terminate_failed
        type: string
      task_id:
        type: integer
      task_pass_rate:
        type: number
      task_score:
        type: integer
    type: object
  v2.GetWorkflowTasksResV2:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v2.GetWorkflowTasksItemV2'
        type: array
      message:
        example: ok
        type: string
    type: object
  v2.InstanceAuditPlanDetailRes:
    properties:
      audit_plans:
        description: 扫描类型
        items:
          $ref: '#/definitions/v2.AuditPlanRes'
        type: array
      environment:
        example: prod
        type: string
      instance_id:
        example: instance_id
        type: string
      instance_name:
        example: test_mysql
        type: string
      instance_type:
        example: mysql
        type: string
    type: object
  v2.InstanceAuditPlanResV1:
    properties:
      active_status:
        enum:
        - normal
        - disabled
        type: string
      audit_plan_types:
        items:
          $ref: '#/definitions/v2.AuditPlanTypeResBase'
        type: array
      create_time:
        description: TODO 采集状态
        type: string
      creator:
        type: string
      environment:
        type: string
      instance_audit_plan_id:
        type: integer
      instance_id:
        type: string
      instance_name:
        type: string
      instance_type:
        type: string
    type: object
  v2.InstanceResV2:
    properties:
      additional_params:
        items:
          $ref: '#/definitions/v1.InstanceAdditionalParamResV1'
        type: array
      db_host:
        example: 10.10.10.10
        type: string
      db_port:
        example: "3306"
        type: string
      db_type:
        example: mysql
        type: string
      db_user:
        example: root
        type: string
      desc:
        example: this is a instance
        type: string
      instance_name:
        type: string
      maintenance_times:
        items:
          $ref: '#/definitions/v1.MaintenanceTimeResV1'
        type: array
      rule_template:
        $ref: '#/definitions/v2.RuleTemplateV2'
        type: object
      source:
        example: SQLE
        type: string
      sql_query_config:
        $ref: '#/definitions/v1.SQLQueryConfigResV1'
        type: object
    type: object
  v2.InstanceTipResV2:
    properties:
      backup_max_rows:
        type: integer
      enable_backup:
        type: boolean
      host:
        type: string
      instance_id:
        type: string
      instance_name:
        type: string
      instance_type:
        type: string
      port:
        type: string
      supported_backup_strategy:
        items:
          enum:
          - none
          - manual
          - reverse_sql
          - original_row
          type: string
        type: array
      workflow_template_id:
        type: integer
    type: object
  v2.PartialSyncAuditPlanSQLsReqV2:
    properties:
      audit_plan_sql_list:
        items:
          $ref: '#/definitions/v2.AuditPlanSQLReqV2'
        type: array
    type: object
  v2.PerformanceStatistics:
    properties:
      affect_rows:
        $ref: '#/definitions/v2.AffectRows'
        type: object
    type: object
  v2.RejectWorkflowReqV2:
    properties:
      reason:
        type: string
    type: object
  v2.RuleTemplateV2:
    properties:
      is_global_rule_template:
        type: boolean
      name:
        type: string
    type: object
  v2.SQLExplain:
    properties:
      classic_result:
        $ref: '#/definitions/v1.ExplainClassicResult'
        type: object
      cost:
        type: number
      err_message:
        type: string
      sql:
        type: string
    type: object
  v2.SqlManage:
    properties:
      assignees:
        items:
          type: string
        type: array
      audit_result:
        items:
          $ref: '#/definitions/v1.AuditResult'
        type: array
      audit_status:
        enum:
        - being_audited
        type: string
      endpoints:
        items:
          type: string
        type: array
      first_appear_timestamp:
        type: string
      fp_count:
        type: integer
      id:
        type: integer
      instance_name:
        type: string
      last_receive_timestamp:
        type: string
      priority:
        type: string
      remark:
        type: string
      schema_name:
        type: string
      source:
        $ref: '#/definitions/v1.Source'
        type: object
      sql:
        type: string
      sql_fingerprint:
        type: string
      status:
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        - sent
        type: string
    type: object
  v2.SqlVersion:
    properties:
      sql_version_id:
        type: integer
      sql_version_name:
        type: string
    type: object
  v2.TableMetas:
    properties:
      err_message:
        type: string
      table_meta_items:
        items:
          $ref: '#/definitions/v1.TableMeta'
        type: array
    type: object
  v2.TaskAnalysisDataV2:
    properties:
      performance_statistics:
        $ref: '#/definitions/v2.PerformanceStatistics'
        type: object
      sql_explain:
        $ref: '#/definitions/v2.SQLExplain'
        type: object
      table_metas:
        $ref: '#/definitions/v2.TableMetas'
        type: object
    type: object
  v2.UpdateWorkflowReqV2:
    properties:
      task_ids:
        items:
          type: integer
        type: array
    type: object
  v2.UpdateWorkflowScheduleReqV2:
    properties:
      is_notify:
        type: boolean
      notify_type:
        enum:
        - wechat
        - feishu
        type: string
      schedule_time:
        type: string
    type: object
  v2.UploadInstanceAuditPlanSQLsReqV2:
    properties:
      audit_plan_sql_list:
        items:
          $ref: '#/definitions/v2.AuditPlanSQLReqV2'
        type: array
      error_message:
        type: string
    type: object
  v2.WorkflowRecordResV2:
    properties:
      current_step_number:
        type: integer
      executable:
        type: boolean
      executable_reason:
        type: string
      status:
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - canceled
        - exec_failed
        - executing
        - finished
        type: string
      tasks:
        items:
          $ref: '#/definitions/v2.WorkflowTaskItem'
        type: array
      workflow_step_list:
        items:
          $ref: '#/definitions/v2.WorkflowStepResV2'
        type: array
    type: object
  v2.WorkflowResV2:
    properties:
      associated_rollback_workflows:
        items:
          $ref: '#/definitions/v2.AssociatedRollbackWorkflow'
        type: array
      associated_stage_workflows:
        items:
          $ref: '#/definitions/v2.AssociatedStageWorkflows'
        type: array
      create_time:
        type: string
      create_user_name:
        type: string
      desc:
        type: string
      exec_mode:
        enum:
        - sql_file
        - sqls
        type: string
      mode:
        enum:
        - same_sqls
        - different_sqls
        type: string
      record:
        $ref: '#/definitions/v2.WorkflowRecordResV2'
        type: object
      record_history_list:
        items:
          $ref: '#/definitions/v2.WorkflowRecordResV2'
        type: array
      sql_version:
        $ref: '#/definitions/v2.SqlVersion'
        type: object
      workflow_id:
        type: string
      workflow_name:
        type: string
    type: object
  v2.WorkflowStepResV2:
    properties:
      assignee_user_name_list:
        items:
          type: string
        type: array
      desc:
        type: string
      number:
        type: integer
      operation_time:
        type: string
      operation_user_name:
        type: string
      reason:
        type: string
      state:
        enum:
        - initialized
        - approved
        - rejected
        type: string
      type:
        enum:
        - create_workflow
        - update_workflow
        - sql_review
        - sql_execute
        type: string
      workflow_step_id:
        type: integer
    type: object
  v2.WorkflowTaskItem:
    properties:
      task_id:
        type: integer
    type: object
  v3.BatchCompleteWorkflowsReqV3:
    properties:
      workflow_list:
        items:
          $ref: '#/definitions/v3.CompleteWorkflowReq'
        type: array
    type: object
  v3.CompleteWorkflowReq:
    properties:
      desc:
        type: string
      workflow_id:
        type: string
    type: object
  v3.GetSqlManageListResp:
    properties:
      code:
        example: 0
        type: integer
      data:
        items:
          $ref: '#/definitions/v3.SqlManage'
        type: array
      message:
        example: ok
        type: string
      sql_manage_bad_num:
        type: integer
      sql_manage_optimized_num:
        type: integer
      sql_manage_total_num:
        type: integer
    type: object
  v3.SqlManage:
    properties:
      assignees:
        items:
          type: string
        type: array
      audit_result:
        items:
          $ref: '#/definitions/v1.AuditResult'
        type: array
      audit_status:
        enum:
        - being_audited
        type: string
      endpoints:
        items:
          type: string
        type: array
      first_appear_timestamp:
        type: string
      fp_count:
        type: integer
      id:
        type: integer
      instance_name:
        type: string
      last_receive_timestamp:
        type: string
      priority:
        type: string
      remark:
        type: string
      schema_name:
        type: string
      source:
        $ref: '#/definitions/v1.Source'
        type: object
      sql:
        type: string
      sql_fingerprint:
        type: string
      status:
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        - sent
        type: string
    type: object
info:
  contact: {}
  description: This is a sample server for dev.
  license: {}
  title: Sqle API Docs
  version: "1.0"
paths:
  /v1/audit_files:
    post:
      description: Direct audit sql from SQL files and MyBatis files
      operationId: directAuditFilesV1
      parameters:
      - description: files that should be audited
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.DirectAuditFileReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.DirectAuditResV1'
      security:
      - ApiKeyAuth: []
      summary: 直接从文件内容提取SQL并审核，SQL文件暂时只支持一次解析一个文件
      tags:
      - sql_audit
  /v1/audit_plan_metas:
    get:
      description: get audit plan metas
      operationId: getAuditPlanMetasV1
      parameters:
      - description: filter instance type
        in: query
        name: filter_instance_type
        type: string
      - description: filter instance id
        in: query
        name: filter_instance_id
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanMetasResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取扫描任务元信息
      tags:
      - audit_plan
  /v1/audit_plan_types:
    get:
      description: get audit plan types
      operationId: getAuditPlanTypesV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanTypesResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取扫描任务类型
      tags:
      - audit_plan
  /v1/company_notice:
    get:
      description: get company notice info
      operationId: getCompanyNotice
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetCompanyNoticeResp'
      security:
      - ApiKeyAuth: []
      summary: 获取企业公告
      tags:
      - companyNotice
    patch:
      consumes:
      - application/json
      description: update company notice info
      operationId: updateCompanyNotice
      parameters:
      - description: company notice
        in: body
        name: companyNotice
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateCompanyNoticeReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新企业公告
      tags:
      - companyNotice
  /v1/configurations/coding:
    get:
      description: get coding configuration
      operationId: getCodingConfigurationV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetCodingConfigurationResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取Coding审核配置
      tags:
      - configuration
    patch:
      consumes:
      - application/json
      description: update coding configuration
      operationId: UpdateCodingConfigurationV1
      parameters:
      - description: update coding configuration req
        in: body
        name: param
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateCodingConfigurationReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加或更新Coding配置
      tags:
      - configuration
  /v1/configurations/coding/test:
    post:
      consumes:
      - application/json
      description: test coding configuration
      operationId: testCodingConfigV1
      parameters:
      - description: test coding configuration req
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.TestCodingConfigurationReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.TestCodingConfigResV1'
      security:
      - ApiKeyAuth: []
      summary: 测试Coding配置
      tags:
      - configuration
  /v1/configurations/ding_talk:
    get:
      description: get dingTalk configuration
      operationId: getDingTalkConfigurationV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDingTalkConfigurationResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取 dingTalk 配置
      tags:
      - configuration
    patch:
      consumes:
      - application/json
      description: update DingTalk configuration
      operationId: updateDingTalkConfigurationV1
      parameters:
      - description: update DingTalk configuration req
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateDingTalkConfigurationReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加或更新 DingTalk 配置
      tags:
      - configuration
  /v1/configurations/ding_talk/test:
    post:
      consumes:
      - application/json
      description: test DingTalk configuration
      operationId: testDingTalkConfigV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.TestDingTalkConfigResV1'
      security:
      - ApiKeyAuth: []
      summary: 测试 DingTalk 配置
      tags:
      - configuration
  /v1/configurations/drivers:
    get:
      description: get drivers
      operationId: getDriversV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDriversResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取当前 server 支持的审核类型
      tags:
      - configuration
  /v1/configurations/feishu_audit:
    get:
      description: get feishu audit configuration
      operationId: getFeishuAuditConfigurationV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetFeishuAuditConfigurationResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取飞书审核配置
      tags:
      - configuration
    patch:
      consumes:
      - application/json
      description: update feishu audit configuration
      operationId: updateFeishuAuditConfigurationV1
      parameters:
      - description: update feishu audit configuration req
        in: body
        name: param
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateFeishuConfigurationReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加或更新飞书配置
      tags:
      - configuration
  /v1/configurations/feishu_audit/test:
    post:
      consumes:
      - application/json
      description: test feishu audit configuration
      operationId: testFeishuAuditConfigV1
      parameters:
      - description: test feishu configuration req
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.TestFeishuConfigurationReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.TestFeishuConfigResV1'
      security:
      - ApiKeyAuth: []
      summary: 测试飞书审批配置
      tags:
      - configuration
  /v1/configurations/git/test:
    post:
      consumes:
      - application/json
      description: test git connection
      operationId: TestGitConnectionV1
      parameters:
      - description: test git configuration req
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.TestGitConnectionReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.TestGitConnectionResV1'
      security:
      - ApiKeyAuth: []
      summary: 测试Git联通性
      tags:
      - configuration
  /v1/configurations/license:
    get:
      description: get sqle license
      operationId: getSQLELicenseV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetLicenseResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取 sqle license
      tags:
      - configuration
    post:
      consumes:
      - multipart/form-data
      description: set sqle license
      operationId: setSQLELicenseV1
      parameters:
      - description: SQLE license file
        in: formData
        name: license_file
        required: true
        type: file
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 导入 sqle license
      tags:
      - configuration
  /v1/configurations/license/check:
    post:
      consumes:
      - multipart/form-data
      description: parse and check sqle license
      operationId: checkSQLELicenseV1
      parameters:
      - description: SQLE license file
        in: formData
        name: license_file
        required: true
        type: file
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.CheckLicenseResV1'
      security:
      - ApiKeyAuth: []
      summary: 解析和校验 sqle license
      tags:
      - configuration
  /v1/configurations/license/info:
    get:
      description: get the information needed to generate the sqle license
      operationId: GetSQLELicenseInfoV1
      responses:
        "200":
          description: server info
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 获取生成 sqle license需要的的信息
      tags:
      - configuration
  /v1/configurations/ssh_key:
    get:
      description: get ssh public key
      operationId: getSSHPublicKey
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.SSHPublicKeyInfoV1Rsp'
      security:
      - ApiKeyAuth: []
      summary: 获取SSH公钥
      tags:
      - configuration
    post:
      description: gen ssh key
      operationId: genSSHPublicKey
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 生成SSH密钥对
      tags:
      - configuration
  /v1/configurations/system_variables:
    get:
      description: get system variables
      operationId: getSystemVariablesV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSystemVariablesResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取系统变量
      tags:
      - configuration
    patch:
      consumes:
      - application/json
      description: update system variables
      operationId: updateSystemVariablesV1
      parameters:
      - description: update system variables request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateSystemVariablesReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 修改系统变量
      tags:
      - configuration
  /v1/configurations/wechat_audit:
    get:
      description: get wechat audit configuration
      operationId: getWechatAuditConfigurationV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWechatAuditConfigurationResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取微信审核配置
      tags:
      - configuration
    patch:
      consumes:
      - application/json
      description: update wechat audit configuration
      operationId: updateWechatAuditConfigurationV1
      parameters:
      - description: update wechat audit configuration req
        in: body
        name: param
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateWechatConfigurationReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加或更新微信配置
      tags:
      - configuration
  /v1/configurations/wechat_audit/test:
    post:
      consumes:
      - application/json
      description: test wechat audit configuration
      operationId: testWechatAuditConfigV1
      parameters:
      - description: test wechat configuration req
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.TestWechatConfigurationReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.TestWechatConfigResV1'
      security:
      - ApiKeyAuth: []
      summary: 测试微信审批配置
      tags:
      - configuration
  /v1/configurations/workflows/schedule/default_option:
    get:
      description: get scheduled task default option
      operationId: getScheduledTaskDefaultOptionV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.ScheduledTaskDefaultOptionV1Rsp'
      security:
      - ApiKeyAuth: []
      summary: 获取工单定时上线二次确认默认选项
      tags:
      - workflow
  /v1/custom_rules:
    get:
      description: get all custom rule template
      operationId: getCustomRulesV1
      parameters:
      - description: filter db type
        in: query
        name: filter_db_type
        type: string
      - description: filter desc
        in: query
        name: filter_desc
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetCustomRulesResV1'
      security:
      - ApiKeyAuth: []
      summary: 自定义规则列表
      tags:
      - rule_template
    post:
      description: create custom rule
      operationId: createCustomRuleV1
      parameters:
      - description: add custom rule
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.CreateCustomRuleReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加自定义规则
      tags:
      - rule_template
  /v1/custom_rules/{db_type}/rule_types:
    get:
      description: get rule type by db type
      operationId: getRuleTypeByDBTypeV1
      parameters:
      - description: db type
        in: path
        name: db_type
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleTypeByDBTypeResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取规则分类
      tags:
      - rule_template
  /v1/custom_rules/{rule_id}:
    delete:
      description: delete custom rule
      operationId: deleteCustomRuleV1
      parameters:
      - description: rule id
        in: path
        name: rule_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除自定义规则
      tags:
      - rule_template
    get:
      description: get custom rule by rule_id
      operationId: getCustomRuleV1
      parameters:
      - description: rule id
        in: path
        name: rule_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetCustomRuleResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取自定义规则
      tags:
      - rule_template
    patch:
      description: update custom rule
      operationId: updateCustomRuleV1
      parameters:
      - description: rule id
        in: path
        name: rule_id
        required: true
        type: string
      - description: update custom rule
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateCustomRuleReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新自定义规则
      tags:
      - rule_template
  /v1/dashboard:
    get:
      description: get dashboard info
      operationId: getDashboardV1
      parameters:
      - description: filter project name
        in: query
        name: filter_project_name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDashboardResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取 dashboard 信息
      tags:
      - dashboard
  /v1/dashboard/sql_manages:
    get:
      description: get global sql manage list
      operationId: GetGlobalSqlManageList
      parameters:
      - description: project uid
        in: query
        name: filter_project_uid
        type: string
      - description: instance id
        in: query
        name: filter_instance_id
        type: string
      - description: project priority
        enum:
        - high
        - medium
        - low
        in: query
        name: filter_project_priority
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetGlobalSqlManageListResp'
      security:
      - ApiKeyAuth: []
      summary: 获取全局管控sql列表
      tags:
      - SqlManage
  /v1/dashboard/sql_manages/statistics:
    get:
      description: get global sql manage statistics
      operationId: GetGlobalSqlManageStatistics
      parameters:
      - description: project uid
        in: query
        name: filter_project_uid
        type: string
      - description: instance id
        in: query
        name: filter_instance_id
        type: string
      - description: project priority
        enum:
        - high
        - medium
        - low
        in: query
        name: filter_project_priority
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetGlobalSqlManageStatisticsResp'
      security:
      - ApiKeyAuth: []
      summary: 获取全局管控sql统计信息
      tags:
      - SqlManage
  /v1/dashboard/workflows:
    get:
      description: get global workflow list
      operationId: getGlobalWorkflowsV1
      parameters:
      - description: filter create user id
        in: query
        name: filter_create_user_id
        type: string
      - description: filter by workflow status,, support using many status
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - executing
        - canceled
        - exec_failed
        - finished
        in: query
        items:
          type: string
        name: filter_status_list
        type: array
      - description: filter by project uid
        in: query
        name: filter_project_uid
        type: string
      - description: filter by instance id in project
        in: query
        name: filter_instance_id
        type: string
      - description: filter by project priority
        enum:
        - high
        - medium
        - low
        in: query
        name: filter_project_priority
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取全局工单列表
      tags:
      - workflow
  /v1/dashboard/workflows/statistics:
    get:
      description: get global workflow statistics
      operationId: GetGlobalWorkflowStatistics
      parameters:
      - description: filter create user id
        in: query
        name: filter_create_user_id
        type: string
      - description: filter by workflow status,, support using many status
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - executing
        - canceled
        - exec_failed
        - finished
        in: query
        items:
          type: string
        name: filter_status_list
        type: array
      - description: filter by project uid
        in: query
        name: filter_project_uid
        type: string
      - description: filter by instance id in project
        in: query
        name: filter_instance_id
        type: string
      - description: filter by project priority
        enum:
        - high
        - medium
        - low
        in: query
        name: filter_project_priority
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GlobalWorkflowStatisticsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取全局工单统计数据
      tags:
      - workflow
  /v1/database_driver_logos:
    get:
      description: get database driver logos
      operationId: GetDatabaseDriverLogos
      parameters:
      - description: MySQL,Oracle
        in: query
        items:
          type: string
        name: db_types
        required: true
        type: array
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDatabaseDriverLogosResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取数据库插件的Logo图片
      tags:
      - instance
  /v1/database_driver_options:
    get:
      description: get database driver options
      operationId: getDatabaseDriverOptions
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDatabaseDriverOptionsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取实例的额外属性列表
      tags:
      - instance
  /v1/import_rule_template:
    get:
      description: get rule template file
      operationId: getRuleTemplateFileV1
      parameters:
      - description: instance type
        in: query
        name: instance_type
        required: true
        type: string
      - description: file type
        enum:
        - csv
        - json
        in: query
        name: file_type
        required: true
        type: string
      responses:
        "200":
          description: sqle rule template file
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 获取规则模板文件
      tags:
      - rule_template
  /v1/knowledge_bases:
    get:
      description: get knowledge base list
      operationId: getKnowledgeBaseList
      parameters:
      - description: keywords
        in: query
        name: keywords
        type: string
      - description: tags
        in: query
        items:
          type: string
        name: tags
        type: array
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetKnowledgeBaseListRes'
      security:
      - ApiKeyAuth: []
      summary: 获取知识库列表
      tags:
      - knowledge_base
  /v1/knowledge_bases/graph:
    get:
      description: get knowledge graph
      operationId: getKnowledgeGraph
      parameters:
      - description: filter by rule name
        in: query
        name: filter_by_rule_name
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetKnowledgeGraphResp'
      security:
      - ApiKeyAuth: []
      summary: 获取知识库知识图谱
      tags:
      - knowledge_base
  /v1/knowledge_bases/tags:
    get:
      description: get tag list of knowledge base
      operationId: getKnowledgeBaseTagList
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetKnowledgeBaseTagListRes'
      security:
      - ApiKeyAuth: []
      summary: 获取知识库标签列表
      tags:
      - knowledge_base
  /v1/operation_records:
    get:
      description: Get operation record list
      operationId: getOperationRecordListV1
      parameters:
      - description: filter_operate_time_from
        in: query
        name: filter_operate_time_from
        type: string
      - description: filter_operate_time_to
        in: query
        name: filter_operate_time_to
        type: string
      - description: filter_operate_project_name
        in: query
        name: filter_operate_project_name
        type: string
      - description: fuzzy_search_operate_user_name
        in: query
        name: fuzzy_search_operate_user_name
        type: string
      - description: filter_operate_type_name
        in: query
        name: filter_operate_type_name
        type: string
      - description: filter_operate_action
        in: query
        name: filter_operate_action
        type: string
      - description: page_index
        in: query
        name: page_index
        required: true
        type: integer
      - description: page_size
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOperationRecordListResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取操作记录列表
      tags:
      - OperationRecord
  /v1/operation_records/exports:
    get:
      description: Export operation record list
      operationId: getExportOperationRecordListV1
      parameters:
      - description: filter_operate_time_from
        in: query
        name: filter_operate_time_from
        type: string
      - description: filter_operate_time_to
        in: query
        name: filter_operate_time_to
        type: string
      - description: filter_operate_project_name
        in: query
        name: filter_operate_project_name
        type: string
      - description: fuzzy_search_operate_user_name
        in: query
        name: fuzzy_search_operate_user_name
        type: string
      - description: filter_operate_type_name
        in: query
        name: filter_operate_type_name
        type: string
      - description: filter_operate_action
        in: query
        name: filter_operate_action
        type: string
      responses:
        "200":
          description: get export operation record list
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 导出操作记录列表
      tags:
      - OperationRecord
  /v1/operation_records/operation_actions:
    get:
      description: Get operation action list
      operationId: getOperationActionList
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOperationActionListResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取操作内容列表
      tags:
      - OperationRecord
  /v1/operation_records/operation_type_names:
    get:
      description: Get operation type name list
      operationId: GetOperationTypeNameList
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOperationTypeNamesListResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取操作类型名列表
      tags:
      - OperationRecord
  /v1/operations:
    get:
      description: get permission operations
      operationId: GetOperationsV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOperationsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取权限动作列表
      tags:
      - operation
  /v1/projects/{project_name}/audit_plans:
    get:
      description: get audit plan info list
      operationId: getAuditPlansV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter audit plan db type
        in: query
        name: filter_audit_plan_db_type
        type: string
      - description: fuzzy search audit plan name
        in: query
        name: fuzzy_search_audit_plan_name
        type: string
      - description: filter audit plan type
        in: query
        name: filter_audit_plan_type
        type: string
      - description: filter audit plan instance name
        in: query
        name: filter_audit_plan_instance_name
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlansResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取扫描任务信息列表
      tags:
      - audit_plan
    post:
      consumes:
      - application/json
      description: create audit plan
      operationId: createAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: create audit plan
        in: body
        name: audit_plan
        required: true
        schema:
          $ref: '#/definitions/v1.CreateAuditPlanReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加扫描任务
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/:
    delete:
      description: delete audit plan
      operationId: deleteAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除扫描任务
      tags:
      - audit_plan
    get:
      description: get audit plan
      operationId: getAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务
      tags:
      - audit_plan
    patch:
      description: update audit plan
      operationId: updateAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: update audit plan
        in: body
        name: audit_plan
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateAuditPlanReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新扫描任务
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/notify_config:
    get:
      description: get audit plan notify config
      operationId: getAuditPlanNotifyConfigV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanNotifyConfigResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取扫描任务消息推送设置
      tags:
      - audit_plan
    patch:
      description: update audit plan notify config
      operationId: updateAuditPlanNotifyConfigV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: update audit plan notify config
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateAuditPlanNotifyConfigReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新扫描任务通知设置
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/notify_config/test:
    get:
      description: Test audit task message push
      operationId: testAuditPlanNotifyConfigV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.TestAuditPlanNotifyConfigResV1'
      security:
      - ApiKeyAuth: []
      summary: 测试扫描任务消息推送
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/reports:
    get:
      description: get audit plan report list
      operationId: getAuditPlanReportsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanReportsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的报告列表
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/reports/{audit_plan_report_id}/:
    get:
      description: get audit plan report
      operationId: getAuditPlanReportV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: audit plan report id
        in: path
        name: audit_plan_report_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanReportResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQL扫描记录统计信息
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/reports/{audit_plan_report_id}/export:
    get:
      description: export audit plan report as csv
      operationId: exportAuditPlanReportV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: audit plan report id
        in: path
        name: audit_plan_report_id
        required: true
        type: string
      responses:
        "200":
          description: get export audit plan report
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 以csv的形式导出扫描报告
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/reports/{audit_plan_report_id}/sqls:
    get:
      description: get audit plan report SQLs
      operationId: getAuditPlanReportsSQLsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: audit plan report id
        in: path
        name: audit_plan_report_id
        required: true
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanReportSQLsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQL扫描详情
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/reports/{audit_plan_report_id}/sqls/{number}/analysis:
    get:
      description: get SQL explain and related table metadata for analysis
      operationId: getTaskAnalysisData
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: audit plan report id
        in: path
        name: audit_plan_report_id
        required: true
        type: string
      - description: sql number
        in: path
        name: number
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanAnalysisDataResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取task相关的SQL执行计划和表元数据
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/sqls:
    get:
      description: get audit plan SQLs
      operationId: getAuditPlanSQLsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanSQLsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQLs信息(不包括扫描结果)
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/sqls/full:
    post:
      deprecated: true
      description: full sync audit plan SQLs
      operationId: fullSyncAuditPlanSQLsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: full sync audit plan SQLs request
        in: body
        name: sqls
        required: true
        schema:
          $ref: '#/definitions/v1.FullSyncAuditPlanSQLsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 全量同步SQL到扫描任务
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/sqls/partial:
    post:
      deprecated: true
      description: partial sync audit plan SQLs
      operationId: partialSyncAuditPlanSQLsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: partial sync audit plan SQLs request
        in: body
        name: sqls
        required: true
        schema:
          $ref: '#/definitions/v1.PartialSyncAuditPlanSQLsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 增量同步SQL到扫描任务
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_plans/{audit_plan_name}/trigger:
    post:
      deprecated: true
      description: trigger audit plan
      operationId: triggerAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.TriggerAuditPlanResV1'
      security:
      - ApiKeyAuth: []
      summary: 触发扫描任务
      tags:
      - audit_plan
  /v1/projects/{project_name}/audit_whitelist:
    get:
      description: get all whitelist
      operationId: getAuditWhitelistV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy value
        in: query
        name: fuzzy_search_value
        type: string
      - description: match type
        in: query
        name: filter_match_type
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: string
      - description: page size
        in: query
        name: page_size
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditWhitelistResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取Sql审核白名单
      tags:
      - audit_whitelist
    post:
      consumes:
      - application/json
      description: create a sql whitelist
      operationId: createAuditWhitelistV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: add sql whitelist req
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.CreateAuditWhitelistReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加SQL白名单
      tags:
      - audit_whitelist
  /v1/projects/{project_name}/audit_whitelist/{audit_whitelist_id}/:
    delete:
      description: remove sql white
      operationId: deleteAuditWhitelistByIdV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit whitelist id
        in: path
        name: audit_whitelist_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除SQL白名单信息
      tags:
      - audit_whitelist
    patch:
      consumes:
      - application/json
      description: update sql whitelist by id
      operationId: UpdateAuditWhitelistByIdV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql audit whitelist id
        in: path
        name: audit_whitelist_id
        required: true
        type: string
      - description: update sql whitelist req
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateAuditWhitelistReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新SQL白名单
      tags:
      - audit_whitelist
  /v1/projects/{project_name}/blacklist:
    get:
      description: get blacklist
      operationId: getBlacklistV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter type
        enum:
        - sql
        - fp_sql
        - ip
        - cidr
        - host
        - instance
        in: query
        name: filter_type
        type: string
      - description: fuzzy search content
        in: query
        name: fuzzy_search_content
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: string
      - description: page size
        in: query
        name: page_size
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetBlacklistResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取黑名单列表
      tags:
      - blacklist
    post:
      consumes:
      - application/json
      description: create a blacklist
      operationId: createBlacklistV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: add blacklist req
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.CreateBlacklistReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加黑名单
      tags:
      - blacklist
  /v1/projects/{project_name}/blacklist/{blacklist_id}/:
    delete:
      description: delete a blacklist
      operationId: deleteBlackList
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: blacklist id
        in: path
        name: blacklist_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      tags:
      - blacklist
    patch:
      consumes:
      - application/json
      description: update a blacklist
      operationId: updateBlacklistV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: blacklist id
        in: path
        name: blacklist_id
        required: true
        type: string
      - description: update blacklist req
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateBlacklistReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新黑名单
      tags:
      - blacklist
  /v1/projects/{project_name}/database_comparison/comparison_statements:
    post:
      consumes:
      - application/json
      description: get database comparison detail
      operationId: getComparisonStatementV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: get database comparison statement request
        in: body
        name: database_comparison_object
        required: true
        schema:
          $ref: '#/definitions/v1.GetComparisonStatementsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.DatabaseComparisonStatementsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取对比语句
      tags:
      - database_comparison
  /v1/projects/{project_name}/database_comparison/execute_comparison:
    post:
      consumes:
      - application/json
      description: get database comparison
      operationId: executeDatabaseComparisonV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: get database comparison request
        in: body
        name: database_comparison
        required: true
        schema:
          $ref: '#/definitions/v1.GetDatabaseComparisonReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.DatabaseComparisonResV1'
      security:
      - ApiKeyAuth: []
      summary: 执行数据库结构对比并获取结果
      tags:
      - database_comparison
  /v1/projects/{project_name}/database_comparison/modify_sql_statements:
    post:
      consumes:
      - application/json
      description: generate database diff modify sqls
      operationId: genDatabaseDiffModifySQLsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: generate database diff modify sqls request
        in: body
        name: gen_modify_sql
        required: true
        schema:
          $ref: '#/definitions/v1.GenModifylSQLReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GenModifySQLResV1'
      security:
      - ApiKeyAuth: []
      summary: 生成变更SQL
      tags:
      - database_comparison
  /v1/projects/{project_name}/instance_audit_plans:
    get:
      deprecated: true
      description: get instance audit plan info list
      operationId: getInstanceAuditPlansV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter by business
        in: query
        name: filter_by_business
        type: string
      - description: filter by environment tag
        in: query
        name: filter_by_environment_tag
        type: string
      - description: filter by db type
        in: query
        name: filter_by_db_type
        type: string
      - description: filter by instance id
        in: query
        name: filter_by_instance_id
        type: string
      - description: filter instance audit plan type
        in: query
        name: filter_by_audit_plan_type
        type: string
      - description: filter instance audit plan active status
        in: query
        name: filter_by_active_status
        type: string
      - description: fuzzy search
        in: query
        name: fuzzy_search
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceAuditPlansResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取实例扫描任务列表
      tags:
      - instance_audit_plan
    post:
      consumes:
      - application/json
      description: create instance audit plan
      operationId: createInstanceAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: create instance audit plan
        in: body
        name: instannce_audit_plan
        required: true
        schema:
          $ref: '#/definitions/v1.CreateInstanceAuditPlanReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.CreatInstanceAuditPlanResV1'
      security:
      - ApiKeyAuth: []
      summary: 添加实例扫描任务
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}:
    get:
      deprecated: true
      description: get instance audit plan detail
      operationId: getInstanceAuditPlanDetailV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceAuditPlanDetailResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取实例扫描任务详情
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/:
    delete:
      description: delete instance audit plan
      operationId: deleteInstanceAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除实例扫描任务
      tags:
      - instance_audit_plan
    patch:
      description: stop/start instance audit plan
      operationId: updateInstanceAuditPlanStatusV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: update instance audit plan
        in: body
        name: audit_plan
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateInstanceAuditPlanStatusReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新实例扫描任务状态
      tags:
      - instance_audit_plan
    put:
      description: update instance audit plan
      operationId: updateInstanceAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: update instance audit plan
        in: body
        name: audit_plan
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateInstanceAuditPlanReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新实例扫描任务配置
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/audit_plans:
    get:
      description: get audit plan overview
      operationId: getInstanceAuditPlanOverviewV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceAuditPlanOverviewResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取实例扫描任务概览
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/audit_plans/{audit_plan_id}/:
    delete:
      description: delete audit plan by type
      operationId: deleteAuditPlanByTypeV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除扫描任务
      tags:
      - instance_audit_plan
    patch:
      description: stop/start audit plan
      operationId: updateAuditPlanStatusV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      - description: update audit plan status
        in: body
        name: audit_plan
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateAuditPlanStatusReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新扫描任务状态
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/audit_plans/{audit_plan_id}/audit:
    post:
      description: audit plan trigger sql audit
      operationId: auditPlanTriggerSqlAuditV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 扫描任务触发sql审核
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/audit_plans/{audit_plan_id}/sql_data:
    post:
      description: get audit plan SQLs
      operationId: getInstanceAuditPlanSQLDataV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      - description: audit plan sql data request
        in: body
        name: audit_plan_sql_request
        required: true
        schema:
          $ref: '#/definitions/v1.GetAuditPlanSQLDataReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanSQLDataResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQL列表
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/audit_plans/{audit_plan_id}/sql_export:
    post:
      description: export audit plan SQL report as CSV
      operationId: getInstanceAuditPlanSQLExportV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      - description: audit plan sql export request
        in: body
        name: audit_plan_sql_request
        required: true
        schema:
          $ref: '#/definitions/v1.GetAuditPlanSQLExportReqV1'
      responses:
        "200":
          description: export audit plan sql report
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 导出指定扫描任务的 SQL CSV 列表
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/audit_plans/{audit_plan_id}/sql_meta:
    get:
      description: get audit plan SQL meta
      operationId: getInstanceAuditPlanSQLMetaV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanSQLMetaResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQL列表元信息
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/audit_plans/{audit_plan_id}/sqls:
    get:
      description: get audit plan SQLs
      operationId: getInstanceAuditPlanSQLsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditPlanSQLsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQLs信息
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/sqls/{id}/analysis:
    get:
      description: get SQL explain and related table metadata for analysis
      operationId: getAuditPlanSqlAnalysisDataV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      - description: audit plan sql id
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlManageSqlAnalysisResp'
      security:
      - ApiKeyAuth: []
      summary: 获取扫描任务相关的SQL执行计划和表元数据
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}/token:
    patch:
      description: refresh audit plan token
      operationId: refreshAuditPlanTokenV1
      parameters:
      - description: update instance audit plan token
        in: body
        name: audit_plan
        schema:
          $ref: '#/definitions/v1.RefreshAuditPlanTokenReqV1'
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 重置扫描任务token
      tags:
      - instance_audit_plan
  /v1/projects/{project_name}/instance_tips:
    get:
      deprecated: true
      description: get instance tip list
      operationId: getInstanceTipListV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter db type
        in: query
        name: filter_db_type
        type: string
      - description: filter by business
        in: query
        name: filter_by_business
        type: string
      - description: filter workflow template id
        in: query
        name: filter_workflow_template_id
        type: string
      - description: functional module
        enum:
        - create_audit_plan
        - create_workflow
        - sql_manage
        - create_optimization
        - create_pipeline
        in: query
        name: functional_module
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceTipsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取实例提示列表
      tags:
      - instance
  /v1/projects/{project_name}/instances/{instance_name}/connection:
    get:
      description: test instance db connection
      operationId: checkInstanceIsConnectableByNameV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: path
        name: instance_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceConnectableResV1'
      security:
      - ApiKeyAuth: []
      summary: 实例连通性测试（实例提交后）
      tags:
      - instance
  /v1/projects/{project_name}/instances/{instance_name}/rules:
    get:
      description: get instance all rule
      operationId: getInstanceRuleListV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: path
        name: instance_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRulesResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取实例应用的规则列表
      tags:
      - instance
  /v1/projects/{project_name}/instances/{instance_name}/schemas:
    get:
      description: instance schema list
      operationId: getInstanceSchemasV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: path
        name: instance_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceSchemaResV1'
      security:
      - ApiKeyAuth: []
      summary: 实例 Schema 列表
      tags:
      - instance
  /v1/projects/{project_name}/instances/{instance_name}/schemas/{schema_name}/tables:
    get:
      description: list table by schema
      operationId: listTableBySchema
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: path
        name: instance_name
        required: true
        type: string
      - description: schema name
        in: path
        name: schema_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.ListTableBySchemaResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取数据库下的所有表
      tags:
      - instance
  /v1/projects/{project_name}/instances/{instance_name}/schemas/{schema_name}/tables/{table_name}/metadata:
    get:
      description: get table metadata
      operationId: getTableMetadata
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: path
        name: instance_name
        required: true
        type: string
      - description: schema name
        in: path
        name: schema_name
        required: true
        type: string
      - description: table name
        in: path
        name: table_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetTableMetadataResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取表元数据
      tags:
      - instance
  /v1/projects/{project_name}/instances/connections:
    post:
      description: batch test instance db connections
      operationId: batchCheckInstanceIsConnectableByName
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instances
        in: body
        name: instances
        required: true
        schema:
          $ref: '#/definitions/v1.BatchCheckInstanceConnectionsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.BatchGetInstanceConnectionsResV1'
      security:
      - ApiKeyAuth: []
      summary: 批量测试实例连通性（实例提交后）
      tags:
      - instance
  /v1/projects/{project_name}/pipelines:
    get:
      description: get pipeline list
      operationId: getPipelinesV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy search pipeline name and description
        in: query
        name: fuzzy_search_name_desc
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetPipelinesResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取流水线列表
      tags:
      - pipeline
    post:
      consumes:
      - application/json
      description: create pipeline
      operationId: createPipelineV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: create pipeline
        in: body
        name: pipeline
        required: true
        schema:
          $ref: '#/definitions/v1.CreatePipelineReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.CreatePipelineResV1'
      security:
      - ApiKeyAuth: []
      summary: 创建流水线
      tags:
      - pipeline
  /v1/projects/{project_name}/pipelines/{pipeline_id}/:
    delete:
      description: delete pipeline
      operationId: deletePipelineV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: pipeline id
        in: path
        name: pipeline_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除流水线
      tags:
      - pipeline
    get:
      description: get pipeline detail
      operationId: getPipelineDetailV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: pipeline id
        in: path
        name: pipeline_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetPipelineDetailResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取流水线详情
      tags:
      - pipeline
    patch:
      description: update pipeline
      operationId: updatePipelineV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: pipeline id
        in: path
        name: pipeline_id
        required: true
        type: string
      - description: update pipeline
        in: body
        name: pipeline
        required: true
        schema:
          $ref: '#/definitions/v1.UpdatePipelineReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新流水线
      tags:
      - pipeline
  /v1/projects/{project_name}/pipelines/{pipeline_id}/token/{node_id}/:
    patch:
      description: refresh pipeline token
      operationId: refreshPipelineNodeTokenV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: pipeline id
        in: path
        name: pipeline_id
        required: true
        type: string
      - description: node id
        in: path
        name: node_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 刷新流水线节点token
      tags:
      - pipeline
  /v1/projects/{project_name}/report_push_configs:
    get:
      description: Get report push config list
      operationId: GetReportPushConfigList
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetReportPushConfigsListResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取消息推送配置列表
      tags:
      - ReportPushConfig
  /v1/projects/{project_name}/report_push_configs/{report_push_config_id}/:
    put:
      description: update report push config
      operationId: UpdateReportPushConfig
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: report push config id
        in: path
        name: report_push_config_id
        required: true
        type: string
      - description: update report push config request
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateReportPushConfigReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新消息推送配置
      tags:
      - ReportPushConfig
  /v1/projects/{project_name}/rule_template_tips:
    get:
      description: get rule template tips in project
      operationId: getProjectRuleTemplateTipsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter db type
        in: query
        name: filter_db_type
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleTemplateTipsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取项目规则模板提示
      tags:
      - rule_template
  /v1/projects/{project_name}/rule_templates:
    get:
      description: get all rule template in a project
      operationId: getProjectRuleTemplateListV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetProjectRuleTemplatesResV1'
      security:
      - ApiKeyAuth: []
      summary: 项目规则模板列表
      tags:
      - rule_template
    post:
      consumes:
      - application/json
      description: create a rule template in project
      operationId: createProjectRuleTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: add rule template request
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.CreateProjectRuleTemplateReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加项目规则模板
      tags:
      - rule_template
  /v1/projects/{project_name}/rule_templates/{rule_template_name}/:
    delete:
      description: delete rule template in project
      operationId: deleteProjectRuleTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除项目规则模板
      tags:
      - rule_template
    get:
      description: get rule template detail in project
      operationId: getProjectRuleTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      - description: fuzzy rule,keyword for desc and annotation
        in: query
        name: fuzzy_keyword_rule
        type: string
      - description: tags for rule
        in: query
        name: tags
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetProjectRuleTemplateResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取项目规则模板信息
      tags:
      - rule_template
    patch:
      description: update rule template in project
      operationId: updateProjectRuleTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      - description: update rule template request
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateProjectRuleTemplateReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新项目规则模板
      tags:
      - rule_template
  /v1/projects/{project_name}/rule_templates/{rule_template_name}/clone:
    post:
      consumes:
      - application/json
      description: clone a rule template in project
      operationId: cloneProjectRuleTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      - description: clone rule template request
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.CloneProjectRuleTemplateReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 克隆项目规则模板
      tags:
      - rule_template
  /v1/projects/{project_name}/rule_templates/{rule_template_name}/export:
    get:
      description: export rule template in a project
      operationId: exportProjectRuleTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      - description: export type
        enum:
        - csv
        - json
        in: query
        name: export_type
        required: true
        type: string
      responses:
        "200":
          description: sqle rule template file
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 导出项目规则模板
      tags:
      - rule_template
  /v1/projects/{project_name}/sql_audit_records:
    get:
      description: get sql audit records
      operationId: getSQLAuditRecordsV1
      parameters:
      - description: fuzzy search tags
        in: query
        name: fuzzy_search_tags
        type: string
      - description: filter sql audit status
        enum:
        - auditing
        - successfully
        in: query
        name: filter_sql_audit_status
        type: string
      - description: filter instance id
        in: query
        name: filter_instance_id
        type: integer
      - description: filter create time from
        in: query
        name: filter_create_time_from
        type: string
      - description: filter create time to
        in: query
        name: filter_create_time_to
        type: string
      - description: filter sql audit record ids
        in: query
        name: filter_sql_audit_record_ids
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSQLAuditRecordsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL审核记录列表
      tags:
      - sql_audit_record
    post:
      consumes:
      - multipart/form-data
      description: |-
        SQL audit
        1. formData[sql]: sql content;
        2. file[input_sql_file]: it is a sql file;
        3. file[input_mybatis_xml_file]: it is mybatis xml file, sql will be parsed from it.
        4. file[input_zip_file]: it is ZIP file that sql will be parsed from xml or sql file inside it.
        5. formData[git_http_url]:the url which scheme is http(s) and end with .git.
        6. formData[git_user_name]:The name of the user who owns the repository read access.
        7. formData[git_branch_name]:The name of the repository branch.
        8. formData[git_user_password]:The password corresponding to git_user_name.
      operationId: CreateSQLAuditRecordV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: formData
        name: instance_name
        type: string
      - description: schema of instance
        in: formData
        name: instance_schema
        type: string
      - description: rule template name
        in: formData
        name: rule_template_name
        type: string
      - description: db type of instance
        in: formData
        name: db_type
        type: string
      - description: sqls for audit
        in: formData
        name: sqls
        type: string
      - description: input SQL file
        in: formData
        name: input_sql_file
        type: file
      - description: input mybatis XML file
        in: formData
        name: input_mybatis_xml_file
        type: file
      - description: input ZIP file
        in: formData
        name: input_zip_file
        type: file
      - description: git repository url
        in: formData
        name: git_http_url
        type: string
      - description: the name of user to clone the repository
        in: formData
        name: git_user_name
        type: string
      - description: the name of repository branch
        in: formData
        name: git_branch_name
        type: string
      - description: the password corresponding to git_user_name
        in: formData
        name: git_user_password
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.CreateSQLAuditRecordResV1'
      security:
      - ApiKeyAuth: []
      summary: SQL审核
      tags:
      - sql_audit_record
  /v1/projects/{project_name}/sql_audit_records/{sql_audit_record_id}/:
    get:
      description: get sql audit record info
      operationId: getSQLAuditRecordV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql audit record id
        in: path
        name: sql_audit_record_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSQLAuditRecordResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL审核记录信息
      tags:
      - sql_audit_record
    patch:
      consumes:
      - application/json
      description: update SQL audit record
      operationId: updateSQLAuditRecordV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql audit record id
        in: path
        name: sql_audit_record_id
        required: true
        type: string
      - description: update SQL audit record
        in: body
        name: param
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateSQLAuditRecordReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新SQL审核记录
      tags:
      - sql_audit_record
  /v1/projects/{project_name}/sql_audit_records/tag_tips:
    get:
      description: get sql audit record tag tips
      operationId: GetSQLAuditRecordTagTipsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSQLAuditRecordTagTipsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL审核记录标签列表
      tags:
      - sql_audit_record
  /v1/projects/{project_name}/sql_dev_records:
    get:
      description: get sql dev record list
      operationId: GetSqlDEVRecordList
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy search sql fingerprint
        in: query
        name: fuzzy_search_sql_fingerprint
        type: string
      - description: instance name
        in: query
        name: filter_instance_name
        type: string
      - description: source
        enum:
        - ide_plugin
        in: query
        name: filter_source
        type: string
      - description: creator name
        in: query
        name: filter_creator
        type: string
      - description: last receive time from
        in: query
        name: filter_last_receive_time_from
        type: string
      - description: last receive time to
        in: query
        name: filter_last_receive_time_to
        type: string
      - description: sort field
        enum:
        - first_appear_timestamp
        - last_receive_timestamp
        - fp_count
        in: query
        name: sort_field
        type: string
      - description: sort order
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlDEVRecordListResp'
      security:
      - ApiKeyAuth: []
      summary: 获取开发sql记录
      tags:
      - SqlDEVRecord
  /v1/projects/{project_name}/sql_manages:
    get:
      deprecated: true
      description: get sql manage list
      operationId: GetSqlManageList
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy search sql fingerprint
        in: query
        name: fuzzy_search_sql_fingerprint
        type: string
      - description: assignee
        in: query
        name: filter_assignee
        type: string
      - description: instance name
        in: query
        name: filter_instance_name
        type: string
      - description: source
        enum:
        - audit_plan
        - sql_audit_record
        in: query
        name: filter_source
        type: string
      - description: audit level
        enum:
        - normal
        - notice
        - warn
        - error
        in: query
        name: filter_audit_level
        type: string
      - description: last audit start time from
        in: query
        name: filter_last_audit_start_time_from
        type: string
      - description: last audit start time to
        in: query
        name: filter_last_audit_start_time_to
        type: string
      - description: status
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        in: query
        name: filter_status
        type: string
      - description: rule name
        in: query
        name: filter_rule_name
        type: string
      - description: db type
        in: query
        name: filter_db_type
        type: string
      - description: fuzzy search endpoint
        in: query
        name: fuzzy_search_endpoint
        type: string
      - description: fuzzy search schema name
        in: query
        name: fuzzy_search_schema_name
        type: string
      - description: sort field
        enum:
        - first_appear_timestamp
        - last_receive_timestamp
        - fp_count
        in: query
        name: sort_field
        type: string
      - description: sort order
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlManageListResp'
      security:
      - ApiKeyAuth: []
      summary: 获取管控sql列表
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_manages/{sql_manage_id}/sql_analysis:
    get:
      description: get sql manage analysis
      operationId: GetSqlManageSqlAnalysisV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql manage id
        in: path
        name: sql_manage_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlManageSqlAnalysisResp'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL管控SQL分析
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_manages/{sql_manage_id}/sql_analysis_chart:
    get:
      description: get sql manage analysis
      operationId: GetSqlManageSqlAnalysisChartV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql manage id
        in: path
        name: sql_manage_id
        required: true
        type: string
      - description: latest_point_enabled
        in: query
        name: latest_point_enabled
        required: true
        type: boolean
      - description: start time
        in: query
        name: start_time
        required: true
        type: string
      - description: end time
        in: query
        name: end_time
        required: true
        type: string
      - description: metric_name
        in: query
        name: metric_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.SqlManageAnalysisChartResp'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL管控SQL执行计划Cost趋势图表
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_manages/abnormal_audit_plan_instance:
    get:
      description: get the instance of audit plan execution abnormal
      operationId: getAbnormalInstanceAuditPlansV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAbnormalAuditPlanInstancesResp'
      security:
      - ApiKeyAuth: []
      summary: 获取执行异常的扫描任务实例
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_manages/batch:
    patch:
      description: batch update sql manage
      operationId: BatchUpdateSqlManage
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: batch update sql manage request
        in: body
        name: BatchUpdateSqlManageReq
        required: true
        schema:
          $ref: '#/definitions/v1.BatchUpdateSqlManageReq'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量更新SQL管控
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_manages/exports:
    get:
      deprecated: true
      description: export sql manage
      operationId: exportSqlManageV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy search sql fingerprint
        in: query
        name: fuzzy_search_sql_fingerprint
        type: string
      - description: assignee
        in: query
        name: filter_assignee
        type: string
      - description: filter by business
        in: query
        name: filter_business
        type: string
      - description: priority
        enum:
        - high
        - low
        in: query
        name: filter_priority
        type: string
      - description: instance id
        in: query
        name: filter_instance_id
        type: string
      - description: source
        enum:
        - audit_plan
        - sql_audit_record
        in: query
        name: filter_source
        type: string
      - description: audit level
        enum:
        - normal
        - notice
        - warn
        - error
        in: query
        name: filter_audit_level
        type: string
      - description: last audit start time from
        in: query
        name: filter_last_audit_start_time_from
        type: string
      - description: last audit start time to
        in: query
        name: filter_last_audit_start_time_to
        type: string
      - description: status
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        in: query
        name: filter_status
        type: string
      - description: db type
        in: query
        name: filter_db_type
        type: string
      - description: rule name
        in: query
        name: filter_rule_name
        type: string
      - description: fuzzy search endpoint
        in: query
        name: fuzzy_search_endpoint
        type: string
      - description: fuzzy search schema name
        in: query
        name: fuzzy_search_schema_name
        type: string
      - description: sort field
        enum:
        - first_appear_timestamp
        - last_receive_timestamp
        - fp_count
        in: query
        name: sort_field
        type: string
      - description: sort order
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      responses:
        "200":
          description: export sql manage
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 导出SQL管控
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_manages/rule_tips:
    get:
      description: get sql manage rule tips
      operationId: GetSqlManageRuleTips
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlManageRuleTipsResp'
      security:
      - ApiKeyAuth: []
      summary: 获取管控规则tips
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_manages/send:
    post:
      description: get sql manage analysis
      operationId: SendSqlManage
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: batch update sql manage request
        in: body
        name: SqlManageCodingReq
        required: true
        schema:
          $ref: '#/definitions/v1.SqlManageCodingReq'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.PostSqlManageCodingResp'
      security:
      - ApiKeyAuth: []
      summary: 推送SQL管控结果到外部系统
      tags:
      - SqlManage
  /v1/projects/{project_name}/sql_optimization_records:
    get:
      description: get sql optimization records
      operationId: getOptimizationRecords
      parameters:
      - description: fuzzy search for optimization_id or create_username
        in: query
        name: fuzzy_search
        type: string
      - description: filter instance name
        in: query
        name: filter_instance_name
        type: string
      - description: filter create time from
        in: query
        name: filter_create_time_from
        type: string
      - description: filter create time to
        in: query
        name: filter_create_time_to
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOptimizationRecordsRes'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL优化记录列表
      tags:
      - sql_optimization
    post:
      consumes:
      - multipart/form-data
      description: |-
        optimize sql
        1. formData[sql]: sql content;
        2. file[input_sql_file]: it is a sql file;
        3. file[input_mybatis_xml_file]: it is mybatis xml file, sql will be parsed from it.
        4. file[input_zip_file]: it is ZIP file that sql will be parsed from xml or sql file inside it.
        5. formData[git_http_url]:the url which scheme is http(s) and end with .git.
        6. formData[git_user_name]:The name of the user who owns the repository read access.
        7. formData[git_user_password]:The password corresponding to git_user_name.
      operationId: OptimizeSQLReq
      parameters:
      - description: sqls that should be optimization
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.OptimizeSQLReq'
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: formData
        name: instance_name
        type: string
      - description: schema of instance
        in: formData
        name: schema_name
        type: string
      - description: db type of instance
        in: formData
        name: db_type
        type: string
      - description: sqls for audit
        in: formData
        name: sql_content
        type: string
      - description: optimization name
        in: formData
        name: optimization_name
        required: true
        type: string
      - description: input SQL file
        in: formData
        name: input_sql_file
        type: file
      - description: input mybatis XML file
        in: formData
        name: input_mybatis_xml_file
        type: file
      - description: input ZIP file
        in: formData
        name: input_zip_file
        type: file
      - description: git repository url
        in: formData
        name: git_http_url
        type: string
      - description: the name of user to clone the repository
        in: formData
        name: git_user_name
        type: string
      - description: the password corresponding to git_user_name
        in: formData
        name: git_user_password
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.OptimizeSQLRes'
      security:
      - ApiKeyAuth: []
      summary: 优化SQL
      tags:
      - sql_optimization
  /v1/projects/{project_name}/sql_optimization_records/{optimization_record_id}/:
    get:
      description: get sql optimization record
      operationId: GetOptimizationRecordReq
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql optimization record id
        in: path
        name: optimization_record_id
        required: true
        type: string
      - description: sql
        in: query
        name: sql
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOptimizationRecordRes'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL优化记录
      tags:
      - sql_optimization
  /v1/projects/{project_name}/sql_optimization_records/{optimization_record_id}/sqls:
    get:
      description: get sql optimization sqls
      operationId: getOptimizationSQLs
      parameters:
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: optimization record id
        in: path
        name: optimization_record_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOptimizationSQLsRes'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL优化语句列表
      tags:
      - sql_optimization
  /v1/projects/{project_name}/sql_optimization_records/{optimization_record_id}/sqls/{number}/:
    get:
      description: get sql optimization record
      operationId: GetOptimizationReq
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql optimization record id
        in: path
        name: optimization_record_id
        required: true
        type: string
      - description: optimization record sql  number
        in: path
        name: number
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOptimizationSQLRes'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL优化语句详情
      tags:
      - sql_optimization
  /v1/projects/{project_name}/sql_versions:
    get:
      consumes:
      - application/json
      description: sql version list
      operationId: getSqlVersionListV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter by created at from
        in: query
        name: filter_by_created_at_from
        type: string
      - description: filter by created at to
        in: query
        name: filter_by_created_at_to
        type: string
      - description: filter by lock time from
        in: query
        name: filter_by_lock_time_from
        type: string
      - description: filter by lock time to
        in: query
        name: filter_by_lock_time_to
        type: string
      - description: filter by version status
        in: query
        name: filter_by_version_status
        type: string
      - description: fuzzy search
        in: query
        name: fuzzy_search
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlVersionListResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL版本列表
      tags:
      - sql_version
    post:
      consumes:
      - application/json
      description: create sql version
      operationId: createSqlVersionV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: create sql version request
        in: body
        name: sql_version
        required: true
        schema:
          $ref: '#/definitions/v1.CreateSqlVersionReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.CreateSqlVersionResV1'
      security:
      - ApiKeyAuth: []
      summary: 创建SQL版本记录
      tags:
      - sql_version
  /v1/projects/{project_name}/sql_versions/{sql_version_id}/:
    delete:
      description: delete sql version
      operationId: deleteSqlVersionV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除SQL版本
      tags:
      - sql_version
    get:
      description: get sql version detail
      operationId: getSqlVersionDetailV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlVersionDetailResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL版本详情
      tags:
      - sql_version
    patch:
      description: update sql version
      operationId: updateSqlVersionV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      - description: update sql version request
        in: body
        name: sql_version
        schema:
          $ref: '#/definitions/v1.UpdateSqlVersionReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新SQL版本信息
      tags:
      - sql_version
  /v1/projects/{project_name}/sql_versions/{sql_version_id}/batch_execute_workflows:
    post:
      description: batch execute workflows
      operationId: batchExecuteWorkflowsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      - description: batch execute workflows request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/v1.BatchExecuteWorkflowsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 工单批量上线
      tags:
      - sql_version
  /v1/projects/{project_name}/sql_versions/{sql_version_id}/batch_release_workflows:
    post:
      description: batch release workflow
      operationId: batchReleaseWorkflowsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      - description: batch release workflow request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/v1.BatchReleaseWorkflowReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量发布工单（在版本的下一阶段创建工单）
      tags:
      - sql_version
  /v1/projects/{project_name}/sql_versions/{sql_version_id}/lock:
    post:
      description: lock sql version
      operationId: lockSqlVersionV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      - description: lock sql version request
        in: body
        name: sql_version
        required: true
        schema:
          $ref: '#/definitions/v1.LockSqlVersionReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 锁定SQL版本
      tags:
      - sql_version
  /v1/projects/{project_name}/sql_versions/{sql_version_id}/sql_version_stages/{sql_version_stage_id}/associate_workflows:
    get:
      description: get workflows that can be associated to version
      operationId: GetWorkflowsThatCanBeAssociatedToVersionV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      - description: sql version stage id
        in: path
        name: sql_version_stage_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowsThatCanBeAssociatedToVersionResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取可与版本关联的工单
      tags:
      - sql_version
    post:
      description: batch associate workflows with version
      operationId: batchAssociateWorkflowsWithVersionV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      - description: sql version stage id
        in: path
        name: sql_version_stage_id
        required: true
        type: string
      - description: batch associate workflows with version request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/v1.BatchAssociateWorkflowsWithVersionReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量关联工单到版本
      tags:
      - sql_version
  /v1/projects/{project_name}/sql_versions/{sql_version_id}/sql_version_stages/{sql_version_stage_id}/dependencies:
    get:
      description: get dependencies between stage instance
      operationId: getDependenciesBetweenStageInstanceV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: sql version id
        in: path
        name: sql_version_id
        required: true
        type: string
      - description: sql version stage id
        in: path
        name: sql_version_stage_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDepBetweenStageInstanceResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取当前阶段与下一阶段实例的依赖信息
      tags:
      - sql_version
  /v1/projects/{project_name}/statistic/audit_plans:
    get:
      description: statistic audit plan
      operationId: statisticAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.StatisticAuditPlanResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取各类型数据源上的扫描任务数量
      tags:
      - statistic
  /v1/projects/{project_name}/statistic/audited_sqls:
    get:
      description: statistics audited sql
      operationId: statisticsAuditedSQLV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.StatisticsAuditedSQLResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取审核SQL总数，以及触发审核规则的SQL数量
      tags:
      - statistic
  /v1/projects/{project_name}/statistic/instance_health:
    get:
      description: get instance health
      operationId: GetInstanceHealthV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceHealthResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取各类型数据源的健康情况
      tags:
      - statistic
  /v1/projects/{project_name}/statistic/optimization_performance_improve_overview:
    get:
      description: get db optimization performance improvements
      operationId: getDBPerformanceImproveOverview
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDBPerformanceImproveOverviewResp'
      security:
      - ApiKeyAuth: []
      summary: 获取实例性能提升概览
      tags:
      - sql_optimization
  /v1/projects/{project_name}/statistic/optimization_record_overview:
    get:
      description: get sql optimization record overview
      operationId: getOptimizationOverview
      parameters:
      - description: create time from
        in: query
        name: filter_create_time_from
        required: true
        type: string
      - description: create time to
        in: query
        name: filter_create_time_to
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetOptimizationOverviewResp'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL优化记录概览
      tags:
      - sql_optimization
  /v1/projects/{project_name}/statistic/project_score:
    get:
      description: get project score
      operationId: GetProjectScoreV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetProjectScoreResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取项目分数
      tags:
      - statistic
  /v1/projects/{project_name}/statistic/risk_audit_plans:
    get:
      description: get risk audit plan
      operationId: getRiskAuditPlanV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRiskAuditPlanResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取扫描任务报告评分低于60的扫描任务
      tags:
      - statistic
  /v1/projects/{project_name}/statistic/risk_workflow:
    get:
      description: statistic risk workflow
      operationId: statisticRiskWorkflowV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.StatisticRiskWorkflowResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取存在风险的工单
      tags:
      - statistic
  /v1/projects/{project_name}/statistic/role_user:
    get:
      description: get role user count
      operationId: getRoleUserCountV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRoleUserCountResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取各角色类型对应的成员数量
      tags:
      - statistic
  /v1/projects/{project_name}/statistic/workflow_status:
    get:
      description: statistic workflow status
      operationId: statisticWorkflowStatusV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowStatusCountResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取项目下工单各个状态的数量
      tags:
      - statistic
  /v1/projects/{project_name}/statistics:
    get:
      description: get project statistics
      operationId: getProjectStatisticsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetProjectStatisticsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取项目统计信息
      tags:
      - statistic
  /v1/projects/{project_name}/task_groups:
    post:
      consumes:
      - application/json
      description: create tasks group.
      operationId: createAuditTasksV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: parameters for creating audit tasks group
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.CreateAuditTasksGroupReqV1'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.CreateAuditTasksGroupResV1'
      security:
      - ApiKeyAuth: []
      summary: 创建审核任务组
      tags:
      - task
  /v1/projects/{project_name}/tasks/audits:
    post:
      consumes:
      - multipart/form-data
      description: |-
        create and audit a task, you can upload sql content in three ways, any one can be used, but only one is effective.
        1. formData[sql]: sql content;
        2. file[input_sql_file]: it is a sql file;
        3. file[input_mybatis_xml_file]: it is mybatis xml file, sql will be parsed from it.
      operationId: createAndAuditTaskV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: formData
        name: instance_name
        required: true
        type: string
      - description: schema of instance
        in: formData
        name: instance_schema
        type: string
      - description: enable backup
        in: formData
        name: enable_backup
        type: boolean
      - description: backup max rows
        in: formData
        name: backup_max_rows
        type: integer
      - description: sqls for audit
        in: formData
        name: sql
        type: string
      - description: input SQL file
        in: formData
        name: input_sql_file
        type: file
      - description: input mybatis XML file
        in: formData
        name: input_mybatis_xml_file
        type: file
      - description: input ZIP file
        in: formData
        name: input_zip_file
        type: file
      - description: exec mode
        in: formData
        name: exec_mode
        type: string
      - description: file order method
        in: formData
        name: file_order_method
        type: string
      - description: create and audit task
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.CreateAuditTaskReqV1'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditTaskResV1'
      security:
      - ApiKeyAuth: []
      summary: 创建Sql扫描任务并提交审核
      tags:
      - task
  /v1/projects/{project_name}/workflow_template:
    get:
      description: get workflow template detail
      operationId: getWorkflowTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowTemplateResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取审批流程模板详情
      tags:
      - workflow
    patch:
      consumes:
      - application/json
      description: update the workflow template
      operationId: updateWorkflowTemplateV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: create workflow template
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateWorkflowTemplateReqV1'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新Sql审批流程模板
      tags:
      - workflow
  /v1/projects/{project_name}/workflows:
    get:
      description: get workflow list
      operationId: getWorkflowsV1
      parameters:
      - description: filter subject
        in: query
        name: filter_subject
        type: string
      - description: filter by workflow_id
        in: query
        name: filter_workflow_id
        type: string
      - description: fuzzy search by workflow description
        in: query
        name: fuzzy_search_workflow_desc
        type: string
      - description: filter create time from
        in: query
        name: filter_create_time_from
        type: string
      - description: filter create time to
        in: query
        name: filter_create_time_to
        type: string
      - description: filter_task_execute_start_time_from
        in: query
        name: filter_task_execute_start_time_from
        type: string
      - description: filter_task_execute_start_time_to
        in: query
        name: filter_task_execute_start_time_to
        type: string
      - description: filter create user id
        in: query
        name: filter_create_user_id
        type: string
      - description: filter workflow status
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - executing
        - canceled
        - exec_failed
        - finished
        in: query
        name: filter_status
        type: string
      - description: filter current step assignee user id
        in: query
        name: filter_current_step_assignee_user_id
        type: string
      - description: filter instance id
        in: query
        name: filter_task_instance_id
        type: string
      - description: filter sql version id
        in: query
        name: filter_sql_version_id
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy matching subject/workflow_id
        in: query
        name: fuzzy_keyword
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单列表
      tags:
      - workflow
    post:
      consumes:
      - application/json
      deprecated: true
      description: create workflow
      operationId: createWorkflowV1
      parameters:
      - description: create workflow request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.CreateWorkflowReqV1'
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 创建工单
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_id}/backup_sqls:
    get:
      description: get backup sql list
      operationId: GetBackupSqlListV1
      parameters:
      - description: 'filter: exec status of task sql'
        enum:
        - initialized
        - doing
        - succeeded
        - failed
        - manually_executed
        - terminating
        - terminate_succeeded
        - terminate_failed
        - execute_rollback
        in: query
        name: filter_exec_status
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: 'filter: instance id in workflow'
        in: query
        name: filter_instance_id
        type: integer
      - description: page index
        in: query
        name: page_index
        required: true
        type: string
      - description: page size
        in: query
        name: page_size
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.BackupSqlListRes'
      security:
      - ApiKeyAuth: []
      summary: 获取工单下所有回滚SQL的列表
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_id}/create_rollback_workflow:
    post:
      consumes:
      - application/json
      description: create rollback workflow
      operationId: CreateRollbackWorkflow
      parameters:
      - description: create rollback workflow request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.CreateRollbackWorkflowReq'
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: origin workflow id to rollback
        in: path
        name: workflow_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.CreateRollbackWorkflowRes'
      security:
      - ApiKeyAuth: []
      summary: 创建回滚工单
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_id}/tasks/{task_id}/attachment:
    get:
      description: get workflow attachment
      operationId: getWorkflowAttachment
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: get workflow attachment
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 获取工单的task附件
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_id}/tasks/{task_id}/backup_files/download:
    get:
      description: download SQL back up file for the audit task
      operationId: downloadBackupFileV1
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: sql file
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 下载工单中的SQL备份
      tags:
      - task
  /v1/projects/{project_name}/workflows/{workflow_id}/tasks/{task_id}/order_file:
    post:
      consumes:
      - application/json
      description: update sql file order
      operationId: updateSqlFileOrderV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: instance body v1.UpdateSqlFileOrderV1Req true
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateSqlFileOrderV1Req'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlFileOrderMethodResV1'
      security:
      - ApiKeyAuth: []
      summary: 修改文件上线顺序
      tags:
      - task
  /v1/projects/{project_name}/workflows/{workflow_id}/tasks/{task_id}/terminate:
    post:
      description: execute one task on workflow
      operationId: terminateSingleTaskByWorkflowV1
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 终止单个上线任务
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_id}/tasks/terminate:
    post:
      description: terminate multiple task by project and workflow
      operationId: terminateMultipleTaskByWorkflowV1
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 终止工单下多个上线任务
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/:
    get:
      deprecated: true
      description: get workflow detail
      operationId: getWorkflowV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单详情
      tags:
      - workflow
    patch:
      consumes:
      - application/json
      deprecated: true
      description: update workflow when it is rejected to creator.
      operationId: updateWorkflowV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: update workflow request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateWorkflowReqV1'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新工单（驳回后才可更新）
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/cancel:
    post:
      deprecated: true
      description: cancel workflow
      operationId: cancelWorkflowV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 审批关闭（中止）
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/steps/{workflow_step_id}/approve:
    post:
      deprecated: true
      description: approve workflow
      operationId: approveWorkflowV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: workflow step id
        in: path
        name: workflow_step_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 审批通过
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/steps/{workflow_step_id}/reject:
    post:
      deprecated: true
      description: reject workflow
      operationId: rejectWorkflowV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: workflow step id
        in: path
        name: workflow_step_id
        required: true
        type: string
      - description: workflow approve request
        in: body
        name: workflow_approve
        required: true
        schema:
          $ref: '#/definitions/v1.RejectWorkflowReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 审批驳回
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/tasks:
    get:
      deprecated: true
      description: get summary of workflow instance tasks
      operationId: getSummaryOfInstanceTasksV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowTasksResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单数据源任务概览
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/tasks/{task_id}/execute:
    post:
      deprecated: true
      description: execute one task on workflow
      operationId: executeOneTaskOnWorkflowV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 工单提交单个数据源上线
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/tasks/{task_id}/schedule:
    put:
      consumes:
      - application/json
      deprecated: true
      description: update workflow schedule.
      operationId: updateWorkflowScheduleV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: update workflow schedule request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateWorkflowScheduleReqV1'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 设置工单数据源定时上线时间（设置为空则代表取消定时时间，需要SQL审核流程都通过后才可以设置）
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/{workflow_name}/tasks/execute:
    post:
      deprecated: true
      description: execute tasks on workflow
      operationId: executeTasksOnWorkflowV1
      parameters:
      - description: workflow name
        in: path
        name: workflow_name
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 多数据源批量上线
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/cancel:
    post:
      deprecated: true
      description: batch cancel workflows
      operationId: batchCancelWorkflowsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: batch cancel workflows request
        in: body
        name: BatchCancelWorkflowsReqV1
        required: true
        schema:
          $ref: '#/definitions/v1.BatchCancelWorkflowsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量取消工单
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/complete:
    post:
      deprecated: true
      description: this api will directly change the work order status to finished
        without real online operation
      operationId: batchCompleteWorkflowsV1
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: batch complete workflows request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/v1.BatchCompleteWorkflowsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量完成工单
      tags:
      - workflow
  /v1/projects/{project_name}/workflows/exports:
    get:
      description: export workflow
      operationId: exportWorkflowV1
      parameters:
      - description: filter subject
        in: query
        name: filter_subject
        type: string
      - description: fuzzy search by workflow description
        in: query
        name: fuzzy_search_workflow_desc
        type: string
      - description: filter create time from
        in: query
        name: filter_create_time_from
        type: string
      - description: filter create time to
        in: query
        name: filter_create_time_to
        type: string
      - description: filter_task_execute_start_time_from
        in: query
        name: filter_task_execute_start_time_from
        type: string
      - description: filter_task_execute_start_time_to
        in: query
        name: filter_task_execute_start_time_to
        type: string
      - description: filter create user id
        in: query
        name: filter_create_user_id
        type: string
      - description: filter workflow status
        enum:
        - wait_for_audit
        - wait_for_execution
        - rejected
        - executing
        - canceled
        - exec_failed
        - finished
        in: query
        name: filter_status
        type: string
      - description: filter current step assignee user id
        in: query
        name: filter_current_step_assignee_user_id
        type: string
      - description: filter instance id
        in: query
        name: filter_task_instance_id
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy matching subject/workflow_id/desc
        in: query
        name: fuzzy_keyword
        type: string
      responses:
        "200":
          description: export workflow
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 导出工单
      tags:
      - workflow
  /v1/rule_knowledge/db_types/{db_type}/custom_rules/{rule_name}/:
    get:
      description: get custom rule knowledge
      operationId: getCustomRuleKnowledgeV1
      parameters:
      - description: rule name
        in: path
        name: rule_name
        required: true
        type: string
      - description: db type of rule
        in: path
        name: db_type
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleKnowledgeResV1'
      security:
      - ApiKeyAuth: []
      summary: 查看自定义规则知识库
      tags:
      - rule_template
    patch:
      description: update custom rule knowledge
      operationId: updateCustomRuleKnowledge
      parameters:
      - description: rule name
        in: path
        name: rule_name
        required: true
        type: string
      - description: db type of rule
        in: path
        name: db_type
        required: true
        type: string
      - description: update rule knowledge
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateRuleKnowledgeReq'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新自定义规则知识库
      tags:
      - rule_template
  /v1/rule_knowledge/db_types/{db_type}/rules/{rule_name}/:
    get:
      description: get rule knowledge
      operationId: getRuleKnowledgeV1
      parameters:
      - description: rule name
        in: path
        name: rule_name
        required: true
        type: string
      - description: db type of rule
        in: path
        name: db_type
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleKnowledgeResV1'
      security:
      - ApiKeyAuth: []
      summary: 查看规则知识库
      tags:
      - rule_template
    patch:
      description: update rule knowledge
      operationId: updateRuleKnowledge
      parameters:
      - description: rule name
        in: path
        name: rule_name
        required: true
        type: string
      - description: db type of rule
        in: path
        name: db_type
        required: true
        type: string
      - description: update rule knowledge
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateRuleKnowledgeReq'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新规则知识库
      tags:
      - rule_template
  /v1/rule_template_tips:
    get:
      description: get global rule template tips
      operationId: getRuleTemplateTipsV1
      parameters:
      - description: filter db type
        in: query
        name: filter_db_type
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleTemplateTipsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取全局规则模板提示
      tags:
      - rule_template
  /v1/rule_templates:
    get:
      description: get all global rule template
      operationId: getRuleTemplateListV1
      parameters:
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleTemplatesResV1'
      security:
      - ApiKeyAuth: []
      summary: 全局规则模板列表
      tags:
      - rule_template
    post:
      consumes:
      - application/json
      description: create a global rule template
      operationId: createRuleTemplateV1
      parameters:
      - description: add rule template request
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.CreateRuleTemplateReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 添加全局规则模板
      tags:
      - rule_template
  /v1/rule_templates/{rule_template_name}/:
    delete:
      description: delete global rule template
      operationId: deleteRuleTemplateV1
      parameters:
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 删除全局规则模板
      tags:
      - rule_template
    get:
      description: get global rule template
      operationId: getRuleTemplateV1
      parameters:
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      - description: fuzzy rule,keyword for desc and annotation
        in: query
        name: fuzzy_keyword_rule
        type: string
      - description: tags for rule
        in: query
        name: tags
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleTemplateResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取全局规则模板信息
      tags:
      - rule_template
    patch:
      description: update global rule template
      operationId: updateRuleTemplateV1
      parameters:
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      - description: update rule template request
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateRuleTemplateReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新全局规则模板
      tags:
      - rule_template
  /v1/rule_templates/{rule_template_name}/clone:
    post:
      consumes:
      - application/json
      description: clone a rule template
      operationId: CloneRuleTemplateV1
      parameters:
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      - description: clone rule template request
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.CloneRuleTemplateReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 克隆全局规则模板
      tags:
      - rule_template
  /v1/rule_templates/{rule_template_name}/export:
    get:
      description: export rule template
      operationId: exportRuleTemplateV1
      parameters:
      - description: export type
        enum:
        - csv
        - json
        in: query
        name: export_type
        required: true
        type: string
      - description: rule template name
        in: path
        name: rule_template_name
        required: true
        type: string
      responses:
        "200":
          description: sqle rule template file
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 导出全局规则模板
      tags:
      - rule_template
  /v1/rule_templates/parse:
    post:
      consumes:
      - multipart/form-data
      description: parse rule template
      operationId: importProjectRuleTemplateV1
      parameters:
      - description: file type
        enum:
        - csv
        - json
        in: formData
        name: file_type
        required: true
        type: string
      - description: SQLE rule template file
        in: formData
        name: rule_template_file
        required: true
        type: file
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.ParseProjectRuleTemplateFileResV1'
        "400":
          description: return error file
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 解析规则模板文件
      tags:
      - rule_template
  /v1/rules:
    get:
      description: get all rule template
      operationId: getRuleListV1
      parameters:
      - description: filter db type
        in: query
        name: filter_db_type
        type: string
      - description: fuzzy rule,keyword for desc and annotation
        in: query
        name: fuzzy_keyword_rule
        type: string
      - description: filter global rule template name
        in: query
        name: filter_global_rule_template_name
        type: string
      - description: filter rule name list
        in: query
        name: filter_rule_names
        type: string
      - description: filter rule version
        in: query
        name: filter_rule_version
        type: integer
      - description: filter tags
        in: query
        name: tags
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRulesResV1'
      security:
      - ApiKeyAuth: []
      summary: 规则列表
      tags:
      - rule_template
  /v1/rules/categoryStatistics:
    get:
      description: get all rule category statistics
      operationId: getCategoryStatistics
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetRuleCategoryStatisticResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取规则分类统计信息
      tags:
      - rule_template
  /v1/rules_version_tips:
    get:
      description: get the rule versions contained in plugins
      operationId: GetDriverRuleVersionTips
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetDriverRuleVersionTipsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取插件包含的规则版本
      tags:
      - rule_template
  /v1/sql_analysis:
    get:
      description: Direct get sql analysis result
      operationId: directGetSQLAnalysisV1
      parameters:
      - description: project name
        in: query
        name: project_name
        required: true
        type: string
      - description: instance name
        in: query
        name: instance_name
        required: true
        type: string
      - description: schema name
        in: query
        name: schema_name
        type: string
      - description: sql
        in: query
        name: sql
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.DirectGetSQLAnalysisResV1'
      security:
      - ApiKeyAuth: []
      summary: 直接获取SQL分析结果
      tags:
      - sql_analysis
  /v1/sql_audit:
    post:
      deprecated: true
      description: Direct audit sql
      operationId: directAuditV1
      parameters:
      - description: sqls that should be audited
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.DirectAuditReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.DirectAuditResV1'
      security:
      - ApiKeyAuth: []
      summary: 直接审核SQL
      tags:
      - sql_audit
  /v1/statistic/instances/resource_overview_statistics:
    get:
      description: get instance overview statistics including average score, high
        priority SQL count and pending workflow count
      operationId: getInstanceOverviewStatisticsV1
      parameters:
      - description: filter by db service ids
        in: query
        items:
          type: string
        name: filter_by_db_service_ids
        type: array
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstanceOverviewStatisticsRes'
      security:
      - ApiKeyAuth: []
      summary: 获取实例概览统计信息
      tags:
      - statistic
  /v1/statistic/instances/sql_average_execution_time:
    get:
      description: get average execution time of sql
      operationId: getSqlAverageExecutionTimeV1
      parameters:
      - description: the limit of result item number
        in: query
        name: limit
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlAverageExecutionTimeResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取sql上线平均耗时，按平均耗时降序排列
      tags:
      - statistic
  /v1/statistic/instances/sql_execution_fail_percent:
    get:
      description: get sql execution fail percent
      operationId: getSqlExecutionFailPercentV1
      parameters:
      - description: the limit of result item number
        in: query
        name: limit
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlExecutionFailPercentResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL上线失败率,按失败率降序排列
      tags:
      - statistic
  /v1/statistic/instances/type_percent:
    get:
      description: get database instances' types percent
      operationId: getInstancesTypePercentV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetInstancesTypePercentResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取数据源类型百分比
      tags:
      - statistic
  /v1/statistic/license/usage:
    get:
      description: get usage of license
      operationId: getLicenseUsageV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetLicenseUsageResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取License使用情况
      tags:
      - statistic
  /v1/statistic/workflows/audit_pass_percent:
    get:
      description: get workflow audit pass percent
      operationId: getWorkflowAuditPassPercentV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowAuditPassPercentResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单审核通过率
      tags:
      - statistic
  /v1/statistic/workflows/counts:
    get:
      description: get workflow counts
      operationId: getWorkflowCountV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowCountsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单数量统计数据
      tags:
      - statistic
  /v1/statistic/workflows/duration_of_waiting_for_audit:
    get:
      description: get duration from workflow being created to audited
      operationId: getWorkflowDurationOfWaitingForAuditV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowDurationOfWaitingForAuditResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单从创建到审核结束的平均时长
      tags:
      - statistic
  /v1/statistic/workflows/duration_of_waiting_for_execution:
    get:
      deprecated: true
      description: get duration from workflow being created to executed
      operationId: getWorkflowDurationOfWaitingForExecutionV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowDurationOfWaitingForExecutionResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单各从审核完毕到执行上线的平均时长
      tags:
      - statistic
  /v1/statistic/workflows/each_day_counts:
    get:
      description: get counts of created workflow each day
      operationId: getWorkflowCreatedCountEachDayV1
      parameters:
      - description: filter date from.(format:yyyy-mm-dd)
        in: query
        name: filter_date_from
        required: true
        type: string
      - description: filter date to.(format:yyyy-mm-dd)
        in: query
        name: filter_date_to
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowCreatedCountsEachDayResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取每天工单创建数量
      tags:
      - statistic
  /v1/statistic/workflows/instance_type_percent:
    get:
      description: get workflows percent counted by instance type
      operationId: getWorkflowPercentCountedByInstanceTypeV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowPercentCountedByInstanceTypeResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取按数据源类型统计的工单百分比
      tags:
      - statistic
  /v1/statistic/workflows/pass_percent:
    get:
      deprecated: true
      description: get workflow pass percent
      operationId: getWorkflowPassPercentV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowPassPercentResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取工单通过率
      tags:
      - statistic
  /v1/statistic/workflows/rejected_percent_group_by_creator:
    get:
      description: get workflows rejected percent group by creator. The result will
        be sorted by rejected percent in descending order
      operationId: getWorkflowRejectedPercentGroupByCreatorV1
      parameters:
      - description: the limit of result item number
        in: query
        name: limit
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowRejectedPercentGroupByCreatorResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取各个用户提交的工单驳回率，按驳回率降序排列
      tags:
      - statistic
  /v1/statistic/workflows/rejected_percent_group_by_instance:
    get:
      deprecated: true
      description: get workflow rejected percent group by instance. The result will
        be sorted by rejected percent in descending order
      operationId: getWorkflowRejectedPercentGroupByInstanceV1
      parameters:
      - description: the limit of result item number
        in: query
        name: limit
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowRejectedPercentGroupByInstanceResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取各个数据源相关的工单驳回率，按驳回率降序排列
      tags:
      - statistic
  /v1/statistic/workflows/status_count:
    get:
      description: get count of workflow status
      operationId: getWorkflowStatusCountV1
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowStatusCountResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取各种状态工单的数量
      tags:
      - statistic
  /v1/system/module_red_dots:
    get:
      description: get the red dot prompt information in the system
      operationId: GetSystemModuleRedDots
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSystemModuleRedDotsRes'
      security:
      - ApiKeyAuth: []
      summary: 查询系统各模块的红点提示信息
      tags:
      - system
  /v1/system/module_status:
    get:
      description: get module status for module in the system
      operationId: getSystemModuleStatus
      parameters:
      - description: db type
        enum:
        - MySQL
        - Oracle
        - TiDB
        - OceanBase For MySQL
        - PostgreSQL
        - DB2
        - SQL Server
        in: query
        name: db_type
        type: string
      - description: module name
        enum:
        - execute_sql_file_mode
        - sql_optimization
        - backup
        - knowledge_base
        in: query
        name: module_name
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetModuleStatusResV1'
      security:
      - ApiKeyAuth: []
      summary: 查询系统功能支持情况信息
      tags:
      - system
  /v1/task_groups/audit:
    post:
      consumes:
      - multipart/form-data
      description: |-
        audit task group.
        1. formData[sql]: sql content;
        2. file[input_sql_file]: it is a sql file;
        3. file[input_mybatis_xml_file]: it is mybatis xml file, sql will be parsed from it.
        4. file[input_zip_file]: it is zip file, sql will be parsed from it.
      operationId: auditTaskGroupIdV1
      parameters:
      - description: group id of tasks
        in: formData
        name: task_group_id
        required: true
        type: integer
      - description: sqls for audit
        in: formData
        name: sql
        type: string
      - description: enable backup
        in: formData
        name: enable_backup
        type: boolean
      - description: backup max rows
        in: formData
        name: backup_max_rows
        type: integer
      - description: file order method
        in: formData
        name: file_order_method
        type: string
      - description: input SQL file
        in: formData
        name: input_sql_file
        type: file
      - description: input mybatis XML file
        in: formData
        name: input_mybatis_xml_file
        type: file
      - description: input ZIP file
        in: formData
        name: input_zip_file
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.AuditTaskGroupResV1'
      security:
      - ApiKeyAuth: []
      summary: 审核任务组
      tags:
      - task
  /v1/tasks/audits/{task_id}/:
    get:
      description: get task
      operationId: getAuditTaskV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditTaskResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取Sql扫描任务信息
      tags:
      - task
  /v1/tasks/audits/{task_id}/backup_strategy:
    patch:
      consumes:
      - application/json
      description: update back up strategy for all sqls in task
      operationId: UpdateTaskBackupStrategyV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: update back up strategy for sqls in workflow
        in: body
        name: strategy
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateTaskBackupStrategyReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新工单中数据源对应所有SQL的备份策略
      tags:
      - workflow
  /v1/tasks/audits/{task_id}/origin_file:
    get:
      description: get SQL origin file of the audit task
      operationId: DownloadAuditFile
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 获取指定审核任务的原始文件
      tags:
      - task
  /v1/tasks/audits/{task_id}/sql_content:
    get:
      description: get SQL content for the audit task
      operationId: getAuditTaskSQLContentV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditTaskSQLContentResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQL内容
      tags:
      - task
  /v1/tasks/audits/{task_id}/sql_file:
    get:
      description: download SQL file for the audit task
      operationId: downloadAuditTaskSQLFileV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: sql file
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 下载指定扫描任务的SQL文件
      tags:
      - task
  /v1/tasks/audits/{task_id}/sql_report:
    get:
      description: download report file of all SQLs information belong to the specified
        audit task
      operationId: downloadAuditTaskSQLReportV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: select unique (fingerprint and audit result) for task sql
        in: query
        name: no_duplicate
        type: boolean
      responses:
        "200":
          description: sql report csv file
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 下载指定扫描任务的SQLs信息报告
      tags:
      - task
  /v1/tasks/audits/{task_id}/sqls:
    get:
      description: get information of all SQLs belong to the specified audit task
      operationId: getAuditTaskSQLsV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: 'filter: exec status of task sql'
        enum:
        - initialized
        - doing
        - succeeded
        - failed
        - manually_executed
        - execute_rollback
        in: query
        name: filter_exec_status
        type: string
      - description: 'filter: audit status of task sql'
        enum:
        - initialized
        - doing
        - finished
        in: query
        name: filter_audit_status
        type: string
      - description: 'filter: audit level of task sql'
        enum:
        - normal
        - notice
        - warn
        - error
        in: query
        name: filter_audit_level
        type: string
      - description: select unique (fingerprint and audit result) for task sql
        in: query
        name: no_duplicate
        type: boolean
      - description: page index
        in: query
        name: page_index
        required: true
        type: string
      - description: page size
        in: query
        name: page_size
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetAuditTaskSQLsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQLs信息
      tags:
      - task
  /v1/tasks/audits/{task_id}/sqls/{number}:
    patch:
      consumes:
      - application/json
      description: modify the relevant information of a certain SQL in the audit task
      operationId: updateAuditTaskSQLsV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: sql number
        in: path
        name: number
        required: true
        type: string
      - description: modify the relevant information of a certain SQL in the audit
          task
        in: body
        name: audit_plan
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateAuditTaskSQLsReqV1'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 修改扫描任务中某条SQL的相关信息
      tags:
      - task
  /v1/tasks/audits/{task_id}/sqls/{number}/analysis:
    get:
      description: get SQL explain and related table metadata for analysis
      operationId: getTaskAnalysisData
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: sql number
        in: path
        name: number
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetTaskAnalysisDataResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取task相关的SQL执行计划和表元数据
      tags:
      - task
  /v1/tasks/audits/{task_id}/sqls/{number}/rewrite:
    post:
      consumes:
      - application/json
      description: 启动特定任务中某条SQL语句的异步重写任务，返回任务状态
      operationId: RewriteSQL
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: sql number
        in: path
        name: number
        required: true
        type: integer
      - description: request body
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v1.RewriteSQLReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功启动异步重写任务
          schema:
            $ref: '#/definitions/v1.AsyncRewriteTaskStatusRes'
      security:
      - ApiKeyAuth: []
      summary: 启动异步SQL重写任务
      tags:
      - task
  /v1/tasks/audits/{task_id}/sqls/{number}/rewrite/status:
    get:
      consumes:
      - application/json
      description: 获取特定任务中某条SQL语句的异步重写任务状态
      operationId: GetAsyncRewriteTaskStatus
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: sql number
        in: path
        name: number
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回任务状态
          schema:
            $ref: '#/definitions/v1.AsyncRewriteTaskStatusRes'
      security:
      - ApiKeyAuth: []
      summary: 获取异步重写任务状态
      tags:
      - task
  /v1/tasks/audits/{task_id}/sqls/{sql_id}/backup_strategy:
    patch:
      consumes:
      - application/json
      description: update back up strategy for one sql in workflow
      operationId: UpdateSqlBackupStrategyV1
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: sql id
        in: path
        name: sql_id
        required: true
        type: string
      - description: update back up strategy for one sql in workflow
        in: body
        name: strategy
        required: true
        schema:
          $ref: '#/definitions/v1.UpdateSqlBackupStrategyReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新单条SQL的备份策略
      tags:
      - workflow
  /v1/tasks/file_order_methods:
    get:
      consumes:
      - application/json
      description: get file order method
      operationId: getSqlFileOrderMethodV1
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetSqlFileOrderMethodResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取文件上线排序方式
      tags:
      - task
  /v1/user_tips:
    get:
      description: get user tip list
      operationId: getUserTipListV1
      parameters:
      - description: project name
        in: query
        name: filter_project
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetUserTipsResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取用户提示列表
      tags:
      - user
  /v1/workflows/statistic_of_instances:
    get:
      description: Get Workflows Statistic Of Instances
      operationId: GetWorkflowStatisticOfInstances
      parameters:
      - description: instance id
        in: query
        name: instance_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v1.GetWorkflowStatisticOfInstancesResV1'
      security:
      - ApiKeyAuth: []
      summary: 获取实例上工单的统计信息
      tags:
      - workflow
  /v2/audit_files:
    post:
      description: Direct audit sql from SQL files and MyBatis files
      operationId: directAuditFilesV2
      parameters:
      - description: files that should be audited
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v2.DirectAuditFileReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.DirectAuditResV2'
      security:
      - ApiKeyAuth: []
      summary: 直接从文件内容提取SQL并审核，SQL文件暂时只支持一次解析一个文件
      tags:
      - sql_audit
  /v2/configurations/drivers:
    get:
      description: get drivers
      operationId: getDriversV2
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetDriversRes'
      security:
      - ApiKeyAuth: []
      summary: 获取当前 server 支持的审核类型
      tags:
      - configuration
  /v2/projects/{project_name}/audit_plans:
    get:
      description: get audit plan info list
      operationId: getAuditPlansV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter audit plan db type
        in: query
        name: filter_audit_plan_db_type
        type: string
      - description: fuzzy search audit plan name
        in: query
        name: fuzzy_search_audit_plan_name
        type: string
      - description: filter audit plan type
        in: query
        name: filter_audit_plan_type
        type: string
      - description: filter audit plan instance name
        in: query
        name: filter_audit_plan_instance_name
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetAuditPlansResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取扫描任务信息列表
      tags:
      - audit_plan
  /v2/projects/{project_name}/audit_plans/{audit_plan_id}/sqls/upload:
    post:
      description: upload intance audit plan SQLs
      operationId: UploadInstanceAuditPlanSQLsV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan id
        in: path
        name: audit_plan_id
        required: true
        type: string
      - description: upload instance audit plan SQLs request
        in: body
        name: sqls
        required: true
        schema:
          $ref: '#/definitions/v2.UploadInstanceAuditPlanSQLsReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 同步SQL到扫描任务
      tags:
      - instance_audit_plan
  /v2/projects/{project_name}/audit_plans/{audit_plan_name}/reports/{audit_plan_report_id}/sqls:
    get:
      description: get audit plan report SQLs
      operationId: getAuditPlanReportsSQLs
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: audit plan report id
        in: path
        name: audit_plan_report_id
        required: true
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetAuditPlanReportSQLsResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQL扫描详情
      tags:
      - audit_plan
  /v2/projects/{project_name}/audit_plans/{audit_plan_name}/reports/{audit_plan_report_id}/sqls/{number}/analysis:
    get:
      description: get SQL explain and related table metadata for analysis
      operationId: getAuditPlantAnalysisDataV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: audit plan report id
        in: path
        name: audit_plan_report_id
        required: true
        type: string
      - description: sql number
        in: path
        name: number
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetAuditPlanAnalysisDataResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取task相关的SQL执行计划和表元数据
      tags:
      - audit_plan
  /v2/projects/{project_name}/audit_plans/{audit_plan_name}/sqls/full:
    post:
      description: full sync audit plan SQLs
      operationId: fullSyncAuditPlanSQLsV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: full sync audit plan SQLs request
        in: body
        name: sqls
        required: true
        schema:
          $ref: '#/definitions/v2.FullSyncAuditPlanSQLsReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 全量同步SQL到扫描任务
      tags:
      - audit_plan
  /v2/projects/{project_name}/audit_plans/{audit_plan_name}/sqls/partial:
    post:
      description: partial sync audit plan SQLs
      operationId: partialSyncAuditPlanSQLsV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: audit plan name
        in: path
        name: audit_plan_name
        required: true
        type: string
      - description: partial sync audit plan SQLs request
        in: body
        name: sqls
        required: true
        schema:
          $ref: '#/definitions/v2.PartialSyncAuditPlanSQLsReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 增量同步SQL到扫描任务
      tags:
      - audit_plan
  /v2/projects/{project_name}/instance_audit_plans:
    get:
      description: get instance audit plan info list
      operationId: getInstanceAuditPlansV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter by environment tag
        in: query
        name: filter_by_environment_tag
        type: string
      - description: filter by db type
        in: query
        name: filter_by_db_type
        type: string
      - description: filter by instance id
        in: query
        name: filter_by_instance_id
        type: string
      - description: filter instance audit plan type
        in: query
        name: filter_by_audit_plan_type
        type: string
      - description: filter instance audit plan active status
        in: query
        name: filter_by_active_status
        type: string
      - description: fuzzy search
        in: query
        name: fuzzy_search
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetInstanceAuditPlansRes'
      security:
      - ApiKeyAuth: []
      summary: 获取实例扫描任务列表
      tags:
      - instance_audit_plan
  /v2/projects/{project_name}/instance_audit_plans/{instance_audit_plan_id}:
    get:
      description: get instance audit plan detail
      operationId: getInstanceAuditPlanDetailV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance audit plan id
        in: path
        name: instance_audit_plan_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetInstanceAuditPlanDetailRes'
      security:
      - ApiKeyAuth: []
      summary: 获取实例扫描任务详情
      tags:
      - instance_audit_plan
  /v2/projects/{project_name}/instance_tips:
    get:
      description: get instance tip list
      operationId: getInstanceTipListV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: filter db type
        in: query
        name: filter_db_type
        type: string
      - description: filter by environment tag
        in: query
        name: filter_by_environment_tag
        type: string
      - description: filter workflow template id
        in: query
        name: filter_workflow_template_id
        type: string
      - description: functional module
        enum:
        - create_audit_plan
        - create_workflow
        - sql_manage
        - create_optimization
        - create_pipeline
        - create_version
        in: query
        name: functional_module
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetInstanceTipsResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取实例提示列表
      tags:
      - instance
  /v2/projects/{project_name}/instances/{instance_name}/:
    get:
      description: get instance db
      operationId: getInstanceV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: instance name
        in: path
        name: instance_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetInstanceResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取实例信息
      tags:
      - instance
  /v2/projects/{project_name}/sql_manages:
    get:
      deprecated: true
      description: get sql manage list
      operationId: GetSqlManageListV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy search sql fingerprint
        in: query
        name: fuzzy_search_sql_fingerprint
        type: string
      - description: assignee
        in: query
        name: filter_assignee
        type: string
      - description: instance id
        in: query
        name: filter_instance_id
        type: string
      - description: source
        enum:
        - audit_plan
        - sql_audit_record
        in: query
        name: filter_source
        type: string
      - description: audit level
        enum:
        - normal
        - notice
        - warn
        - error
        in: query
        name: filter_audit_level
        type: string
      - description: last audit start time from
        in: query
        name: filter_last_audit_start_time_from
        type: string
      - description: last audit start time to
        in: query
        name: filter_last_audit_start_time_to
        type: string
      - description: status
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        - sent
        in: query
        name: filter_status
        type: string
      - description: rule name
        in: query
        name: filter_rule_name
        type: string
      - description: db type
        in: query
        name: filter_db_type
        type: string
      - description: filter by business
        in: query
        name: filter_business
        type: string
      - description: filter by environment tag
        in: query
        name: filter_by_environment_tag
        type: string
      - description: priority
        enum:
        - high
        - low
        in: query
        name: filter_priority
        type: string
      - description: fuzzy search endpoint
        in: query
        name: fuzzy_search_endpoint
        type: string
      - description: fuzzy search schema name
        in: query
        name: fuzzy_search_schema_name
        type: string
      - description: sort field
        enum:
        - first_appear_timestamp
        - last_receive_timestamp
        - fp_count
        in: query
        name: sort_field
        type: string
      - description: sort order
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetSqlManageListResp'
      security:
      - ApiKeyAuth: []
      summary: 获取管控sql列表
      tags:
      - SqlManage
  /v2/projects/{project_name}/sql_manages/exports:
    get:
      description: export sql manage
      operationId: exportSqlManageV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy search sql fingerprint
        in: query
        name: fuzzy_search_sql_fingerprint
        type: string
      - description: assignee
        in: query
        name: filter_assignee
        type: string
      - description: filter by environment tag
        in: query
        name: filter_by_environment_tag
        type: string
      - description: priority
        enum:
        - high
        - low
        in: query
        name: filter_priority
        type: string
      - description: instance id
        in: query
        name: filter_instance_id
        type: string
      - description: source
        enum:
        - audit_plan
        - sql_audit_record
        in: query
        name: filter_source
        type: string
      - description: audit level
        enum:
        - normal
        - notice
        - warn
        - error
        in: query
        name: filter_audit_level
        type: string
      - description: last audit start time from
        in: query
        name: filter_last_audit_start_time_from
        type: string
      - description: last audit start time to
        in: query
        name: filter_last_audit_start_time_to
        type: string
      - description: status
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        in: query
        name: filter_status
        type: string
      - description: db type
        in: query
        name: filter_db_type
        type: string
      - description: rule name
        in: query
        name: filter_rule_name
        type: string
      - description: fuzzy search endpoint
        in: query
        name: fuzzy_search_endpoint
        type: string
      - description: fuzzy search schema name
        in: query
        name: fuzzy_search_schema_name
        type: string
      - description: sort field
        enum:
        - first_appear_timestamp
        - last_receive_timestamp
        - fp_count
        in: query
        name: sort_field
        type: string
      - description: sort order
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      responses:
        "200":
          description: export sql manage
          schema:
            type: file
      security:
      - ApiKeyAuth: []
      summary: 导出SQL管控
      tags:
      - SqlManage
  /v2/projects/{project_name}/workflows:
    post:
      consumes:
      - application/json
      description: create workflow
      operationId: createWorkflowV2
      parameters:
      - description: create workflow request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v2.CreateWorkflowReqV2'
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.CreateWorkflowResV2'
      security:
      - ApiKeyAuth: []
      summary: 创建工单
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/:
    get:
      description: get workflow detail
      operationId: getWorkflowV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetWorkflowResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取工单详情
      tags:
      - workflow
    patch:
      consumes:
      - application/json
      description: update workflow when it is rejected to creator.
      operationId: updateWorkflowV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: update workflow request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v2.UpdateWorkflowReqV2'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 更新工单（工单被驳回、工单被关闭、执行成功、执行失败后才可更新）
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/cancel:
    post:
      description: cancel workflow
      operationId: cancelWorkflowV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 审批关闭（中止）
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/steps/{workflow_step_id}/approve:
    post:
      description: approve workflow
      operationId: approveWorkflowV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: workflow step id
        in: path
        name: workflow_step_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 审批通过
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/steps/{workflow_step_id}/reject:
    post:
      description: reject workflow
      operationId: rejectWorkflowV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: workflow step id
        in: path
        name: workflow_step_id
        required: true
        type: string
      - description: workflow approve request
        in: body
        name: workflow_approve
        required: true
        schema:
          $ref: '#/definitions/v2.RejectWorkflowReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 审批驳回
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/tasks:
    get:
      description: get summary of workflow instance tasks
      operationId: getSummaryOfInstanceTasksV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetWorkflowTasksResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取工单数据源任务概览
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/tasks/{task_id}/execute:
    post:
      description: execute one task on workflow
      operationId: executeOneTaskOnWorkflowV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 工单提交单个数据源上线
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/tasks/{task_id}/schedule:
    put:
      consumes:
      - application/json
      description: update workflow schedule.
      operationId: updateWorkflowScheduleV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: update workflow schedule request
        in: body
        name: instance
        required: true
        schema:
          $ref: '#/definitions/v2.UpdateWorkflowScheduleReqV2'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 设置工单数据源定时上线时间（设置为空则代表取消定时时间，需要SQL审核流程都通过后才可以设置）
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/{workflow_id}/tasks/execute:
    post:
      description: execute tasks on workflow
      operationId: executeTasksOnWorkflowV2
      parameters:
      - description: workflow id
        in: path
        name: workflow_id
        required: true
        type: string
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 多数据源批量上线
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/cancel:
    post:
      description: batch cancel workflows
      operationId: batchCancelWorkflowsV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: batch cancel workflows request
        in: body
        name: BatchCancelWorkflowsReqV2
        required: true
        schema:
          $ref: '#/definitions/v2.BatchCancelWorkflowsReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量取消工单
      tags:
      - workflow
  /v2/projects/{project_name}/workflows/complete:
    post:
      deprecated: true
      description: this api will directly change the work order status to finished
        without real online operation
      operationId: batchCompleteWorkflowsV2
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: batch complete workflows request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/v2.BatchCompleteWorkflowsReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量完成工单
      tags:
      - workflow
  /v2/sql_audit:
    post:
      description: Direct audit sql
      operationId: directAuditV2
      parameters:
      - description: sqls that should be audited
        in: body
        name: req
        required: true
        schema:
          $ref: '#/definitions/v2.DirectAuditReqV2'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.DirectAuditResV2'
      security:
      - ApiKeyAuth: []
      summary: 直接审核SQL
      tags:
      - sql_audit
  /v2/tasks/audits/{task_id}/files:
    get:
      description: get audit task file list
      operationId: getAuditFileList
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: string
      - description: page size
        in: query
        name: page_size
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetAuditFileListRes'
      security:
      - ApiKeyAuth: []
      summary: 获取审核任务文件概览列表
      tags:
      - task
  /v2/tasks/audits/{task_id}/files/{file_id}/:
    get:
      description: get audit task file execute statistic
      operationId: getAuditFileExecStatistic
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: file id
        in: path
        name: file_id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetAuditFileExecStatisticRes'
      security:
      - ApiKeyAuth: []
      summary: 获取审核任务文件执行概览
      tags:
      - task
  /v2/tasks/audits/{task_id}/sqls:
    get:
      description: get information of all SQLs belong to the specified audit task
      operationId: getAuditTaskSQLsV2
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: 'filter: exec status of task sql'
        enum:
        - initialized
        - doing
        - succeeded
        - failed
        - manually_executed
        - terminating
        - terminate_succeeded
        - terminate_failed
        - execute_rollback
        in: query
        name: filter_exec_status
        type: string
      - description: 'filter: audit status of task sql'
        enum:
        - initialized
        - doing
        - finished
        in: query
        name: filter_audit_status
        type: string
      - description: 'filter: audit level of task sql'
        enum:
        - normal
        - notice
        - warn
        - error
        in: query
        name: filter_audit_level
        type: string
      - description: select unique (fingerprint and audit result) for task sql
        in: query
        name: no_duplicate
        type: boolean
      - description: 'filter: audit file id of task'
        in: query
        name: filter_audit_file_id
        type: integer
      - description: page index
        in: query
        name: page_index
        required: true
        type: string
      - description: page size
        in: query
        name: page_size
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetAuditTaskSQLsResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取指定扫描任务的SQLs信息
      tags:
      - task
  /v2/tasks/audits/{task_id}/sqls/{number}/analysis:
    get:
      description: get SQL explain and related table metadata for analysis
      operationId: getTaskAnalysisDataV2
      parameters:
      - description: task id
        in: path
        name: task_id
        required: true
        type: string
      - description: sql number
        in: path
        name: number
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v2.GetTaskAnalysisDataResV2'
      security:
      - ApiKeyAuth: []
      summary: 获取task相关的SQL执行计划和表元数据
      tags:
      - task
  /v3/projects/{project_name}/sql_manages:
    get:
      description: get sql manage list
      operationId: GetSqlManageListV3
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: fuzzy search sql fingerprint
        in: query
        name: fuzzy_search_sql_fingerprint
        type: string
      - description: assignee
        in: query
        name: filter_assignee
        type: string
      - description: instance id
        in: query
        name: filter_instance_id
        type: string
      - description: source
        enum:
        - audit_plan
        - sql_audit_record
        in: query
        name: filter_source
        type: string
      - description: audit level
        enum:
        - normal
        - notice
        - warn
        - error
        in: query
        name: filter_audit_level
        type: string
      - description: last audit start time from
        in: query
        name: filter_last_audit_start_time_from
        type: string
      - description: last audit start time to
        in: query
        name: filter_last_audit_start_time_to
        type: string
      - description: status
        enum:
        - unhandled
        - solved
        - ignored
        - manual_audited
        - sent
        in: query
        name: filter_status
        type: string
      - description: rule name
        in: query
        name: filter_rule_name
        type: string
      - description: db type
        in: query
        name: filter_db_type
        type: string
      - description: filter by name of environment tag
        in: query
        name: filter_by_environment_tag
        type: string
      - description: priority
        enum:
        - high
        - low
        in: query
        name: filter_priority
        type: string
      - description: fuzzy search endpoint
        in: query
        name: fuzzy_search_endpoint
        type: string
      - description: fuzzy search schema name
        in: query
        name: fuzzy_search_schema_name
        type: string
      - description: sort field
        enum:
        - first_appear_timestamp
        - last_receive_timestamp
        - fp_count
        in: query
        name: sort_field
        type: string
      - description: sort order
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      - description: page index
        in: query
        name: page_index
        required: true
        type: integer
      - description: size of per page
        in: query
        name: page_size
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/v3.GetSqlManageListResp'
      security:
      - ApiKeyAuth: []
      summary: 获取SQL管控列表
      tags:
      - SqlManage
  /v3/projects/{project_name}/workflows/complete:
    post:
      description: this api will directly change the work order status to finished
        without real online operation
      operationId: batchCompleteWorkflowsV3
      parameters:
      - description: project name
        in: path
        name: project_name
        required: true
        type: string
      - description: batch complete workflows request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/v3.BatchCompleteWorkflowsReqV3'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/controller.BaseRes'
      security:
      - ApiKeyAuth: []
      summary: 批量完成工单
      tags:
      - workflow
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
