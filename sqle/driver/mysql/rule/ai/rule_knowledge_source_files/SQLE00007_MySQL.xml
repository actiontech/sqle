<?xml version='1.0' encoding='UTF-8'?>
<Rule>
  <规则编号>SQLE00007</规则编号>
  <级别>
    <当前级别>warn</当前级别>
  </级别>
  <数据库类型>MySQL</数据库类型>
  <规则种类>DDL规范</规则种类>
  <规则简述>建表时，自增字段只能设置一个</规则简述>
  <规则描述>多个自增字段会造成表写入性能影响、可读性差、数据库设计不规范等缺点。</规则描述>
  <规则场景>
    <原理说明 数据库版本="MySQL 5.7.25" 检查方式="不连库审核">
    <示例>
      原理说明：
```sql
      MySQL表中，单表只支持一个主键；当建表语句里注明多个主键字段时，语句将无法执行并报错。
      mysql&gt; create table c (a int(11) not null auto_increment, b int(11) not null auto_increment);
      ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key
```
    </示例>
    <检查流程描述>
    1. 对于"CREATE TABLE..."语句，若存在超过1个字段包含auto_increment，则报告违反规则。
    </检查流程描述>
    <知识文档>
    1. 错误代码文档：https://dev.mysql.com/doc/mysql-errors/5.7/en/server-error-reference.html
    </知识文档>    
    </原理说明>
  </规则场景>
  <规则缺陷>
  高并发插入的时候产生的尾部热点问题：innodb_autoinc_lock_mode
  
  </规则缺陷>

  <标签><分类 名称="操作对象"><分类值>表</分类值><分类值>字段</分类值></分类><分类 名称="SQL分类"><分类值>DDL</分类值><分类值>完整性约束</分类值></分类><分类 名称="审核目的"><分类值>保障正确性</分类值></分类><分类 名称="审核精确度"><分类值>不连库审核</分类值></分类></标签>
<完成情况>完成</完成情况></Rule>